<!doctype html>
<html>
<head>
    <meta charset="utf-8">
<meta name="description" content="Long way to go">
<meta name="author" content="Xuanwo">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/dist/css/animate.min.css">
<link rel="stylesheet" href="/dist/css/style.css">
<link rel="stylesheet" href="/dist/css/font-awesome.min.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

    <title>  Blog | Xuanwo's Blog </title>
</head>
<body id="home">
<div id="menu" class="menu-right">
    <ul>
        <li>
            <form class="menu-search">
                <div class="form-group header">
                    <span>
                    <i class="fa fa-search searchico"></i>
                    <input type="text" placeholder="Blog Search">
                    <a href="#" class="close-menu"><i class="fa fa-close"></i></a>
                        </span>
                </div>
            </form>
        </li>
        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>
        <li><a href="/about"><i class="fa fa-user"></i>About</a></li>
        <li class="submenu">
            <a href="#"><i class="fa fa-book"></i>Categories<b class="caret"></b></a>
            <ul class="submenu-list">
                
                    <li><a href="/categories/Opinion/">Opinion <span
                                    class="badge">41</span></a></li>
                
                    <li><a href="/categories/Exercise/">Exercise <span
                                    class="badge">323</span></a></li>
                
                    <li><a href="/categories/Daily/">Daily <span
                                    class="badge">8</span></a></li>
                
                    <li><a href="/categories/Learn/">Learn <span
                                    class="badge">4</span></a></li>
                
                    <li><a href="/categories/Develop/">Develop <span
                                    class="badge">11</span></a></li>
                
                    <li><a href="/categories/Summary/">Summary <span
                                    class="badge">4</span></a></li>
                
                    <li><a href="/categories/Operate/">Operate <span
                                    class="badge">1</span></a></li>
                
            </ul>
        </li>
        <li class="submenu">
            <a href="#"><i class="fa fa-calendar"></i>Archives <b class="caret"></b></a>
            <ul class="submenu-list"><li class="submenu-list-item"><a class="submenu-list-link" href="/archives/2016/">2016</a></li><li class="submenu-list-item"><a class="submenu-list-link" href="/archives/2015/">2015</a></li><li class="submenu-list-item"><a class="submenu-list-link" href="/archives/2014/">2014</a></li></ul>
        </li>
        <li><a href="contact.html"><i class="fa fa-envelope"></i>Contact</a></li>
    </ul>
</div>
<div id="wrap">
    <div id="main-nav" class="">
    <div class="container">
        <div class="nav-header">
            <a class="nav-brand" href="/">Xuanwo's Blog</a>
            <a class="menu-link nav-icon" href="#"><i class="fa fa-navicon"></i></a>
        </div>
    </div>
</div>
    <section id="hero" class="light-typo">
    <div id="cover-image" class="image-bg animated fadeIn"></div>
    <div class="container welcome-content">
        <div class="middle-text">
            <h1>Coding your future</h1>
            <a class="btn smooth-scroll" href="#start">Get Stated</a>
        </div>
    </div>
</section>
    <div id="start" class="container content">
        
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2015-03-26T00:22:43+00:00"
                  content="Mar 26 2015">
                Mar 26 2015
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2015/03/26/hexo-intor/#disqus_thread" data-disqus-identifier="2015/03/26/hexo-intor/">
              <span class="disqus-comment-count" data-disqus-identifier="2015/03/26/hexo-intor/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2015/03/26/hexo-intor/">史上最详细的Hexo博客搭建图文教程</a></h2>
        
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>从2014年的八月份开始接触Hexo，一直用到现在，已经有半年的时间了。这期间，Hexo从2.X一路升级到了3.0，很多地方都发生了改变。不仅如此，很多原来使用Hexo的博主们写下了的教程并没有及时更新，导致后来人一头雾水，挫折感十足。因此，本文致力于提供一份足够简单，长期维护的基于Github Pages的Hexo博客搭建图文教程，希望能有所帮助。<br>当然，我个人的力量是有限的，因此也希望使用Hexo的大家也能一起行动起来，通过<a href="https://github.com/Xuanwo/xuanwo.github.io/pulls" target="_blank" rel="external">提交PR</a>，<a href="https://github.com/Xuanwo/xuanwo.github.io/issues" target="_blank" rel="external">发布issues</a>或者在下方评论区评论等形式参与到本文档的编辑中来。浏览时，使用<code>Ctrl+F</code>搜索关键词。<em>（是不是会有似曾相识的感觉，= =）</em></p>
<a id="more"></a>
<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>你需要准备好以下软件：</p>
<ul>
<li>Node.js环境</li>
<li>Git</li>
</ul>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><h3 id="配置Node-js环境"><a href="#配置Node-js环境" class="headerlink" title="配置Node.js环境"></a>配置Node.js环境</h3><p>下载Node.js安装文件：</p>
<ul>
<li><a href="https://nodejs.org/dist/v4.2.3/node-v4.2.3-x86.msi" target="_blank" rel="external">Windows Installer 32-bit</a></li>
<li><a href="https://nodejs.org/dist/v4.2.3/node-v4.2.3-x64.msi" target="_blank" rel="external">Windows Installer 64-bit</a><br>根据自己的Windows版本选择相应的安装文件，要是不知道，就安装32-bit的吧- -。<br>如图所示：<br><img src="/imgs/opinion/Nodejs-install.png" alt="Node.js安装界面"><br>保持默认设置即可，一路Next，安装很快就结束了。<br>然后我们检查一下是不是要求的组件都安装好了，同时按下<code>Win</code>和<code>R</code>，打开运行窗口：<br><img src="/imgs/opinion/win-run.png" alt="Windows的运行界面"><br>在新打开的窗口中输入<code>cmd</code>，敲击回车，打开命令行界面。<em>（下文将直接用<code>打开命令行</code>来表示以上操作，记住哦~）</em><br>在打开的命令行界面中，输入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p>如果结果如下图所示，则说明安装正确，可以进行下一步了，如果不正确，则需要回头检查自己的安装过程。<br><img src="/imgs/opinion/Nodejs-test.png" alt="Node.js安装测试"></p>
<h3 id="配置Git环境"><a href="#配置Git环境" class="headerlink" title="配置Git环境"></a>配置Git环境</h3><p>下载Git安装文件：</p>
<ul>
<li><a href="https://github.com/git-for-windows/git/releases/download/v2.6.3.windows.1/Git-2.6.3-64-bit.exe" target="_blank" rel="external">Git-2.6.3-64-bit.exe</a><br>然后就进入了Git的安装界面，如图：<br><img src="/imgs/opinion/Git-install.png" alt="Git安装界面"><br>和Node.js一样，大部分设置都只需要保持默认，但是出于我们操作方便考虑，建议PATH选项按照下图选择：<br><img src="/imgs/opinion/Git-path-setting.png" alt="Git PATH设置"><blockquote>
<p>这是对上图的解释，不需要了解请直接跳过<br>Git的默认设置下，出于安全考虑，只有在Git Bash中才能进行Git的相关操作。按照上图进行的选择，将会使得Git安装程序在系统PATH中加入Git的相关路径，使得你可以在CMD界面下调用Git，不用打开Git Bash了。</p>
</blockquote>
</li>
</ul>
<p>一样的，我们来检查一下Git是不是安装正确了，打开命令行，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>
<p>如果结果如下图所示，则说明安装正确，可以进行下一步了，如果不正确，则需要回头检查自己的安装过程。<br><img src="/imgs/opinion/Git-test.png" alt="Git安装测试"></p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h2 id="Mac-OS"><a href="#Mac-OS" class="headerlink" title="Mac OS"></a>Mac OS</h2><h1 id="配置Github"><a href="#配置Github" class="headerlink" title="配置Github"></a>配置Github</h1><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p><strong>如果已经拥有账号，请跳过此步~</strong><br>打开<a href="https://github.com/" target="_blank" rel="external">https://github.com/</a>，在下图的框中，分别输入自己的用户名，邮箱，密码。<br><img src="/imgs/opinion/Github-sign-up.png" alt="Github注册"><br>然后前往自己刚才填写的邮箱，点开Github发送给你的注册确认信，确认注册，结束注册流程。<br><strong>一定要确认注册，否则无法使用gh-pages！</strong></p>
<h2 id="创建代码库"><a href="#创建代码库" class="headerlink" title="创建代码库"></a>创建代码库</h2><p>登陆之后，点击页面右上角的加号，选择<code>New repository</code>：<br><img src="/imgs/opinion/Github-create-a-new-repo.png" alt="新建代码库"><br>进入代码库创建页面：<br>在<code>Repository name</code>下填写<code>yourname.github.io</code>，<code>Description (optional)</code>下填写一些简单的描述（不写也没有关系），如图所示：<br><img src="/imgs/opinion/Github-new-repo-setting.png" alt="代码库设置"><br>正确创建之后，你将会看到如下界面：<br><img src="/imgs/opinion/Github-new-repo-look-like.png" alt="新代码库的界面"></p>
<h2 id="开启gh-pages功能"><a href="#开启gh-pages功能" class="headerlink" title="开启gh-pages功能"></a>开启gh-pages功能</h2><p>点击界面右侧的<code>Settings</code>，你将会打开这个库的setting页面，向下拖动，直到看见<code>GitHub Pages</code>，如图：<br><img src="/imgs/opinion/Github-pages.png" alt="Github pages"><br>点击<code>Automatic page generator</code>，Github将会自动替你创建出一个gh-pages的页面。<br>如果你的配置没有问题，那么大约15分钟之后，<code>yourname.github.io</code>这个网址就可以正常访问了~<br>如果<code>yourname.github.io</code>已经可以正常访问了，那么Github一侧的配置已经全部结束了。</p>
<h1 id="配置Hexo"><a href="#配置Hexo" class="headerlink" title="配置Hexo"></a>配置Hexo</h1><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>在自己认为合适的地方创建一个文件夹，然后在文件夹空白处按住<code>Shift</code>+鼠标右键，然后点击在此处打开命令行窗口。<em>（同样要记住啦，下文中会使用<code>在当前目录打开命令行</code>来代指上述的操作）</em><br>在命令行中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>
<p>然后你将会看到:<br><img src="/imgs/opinion/npm-install-hexo-cli.png" alt="安装hexo-cli"><br>可能你会看到一个<code>WARN</code>，但是不用担心，这不会影响你的正常使用。<br>然后输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo --save</span><br></pre></td></tr></table></figure>
<p>然后你会看到命令行窗口刷了一大堆白字，下面我们来看一看Hexo是不是已经安装好了。<br>在命令行中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
<p>如果你看到了如图文字，则说明已经安装成功了。<br><img src="/imgs/opinion/hexo-v.png" alt="Hexo测试"></p>
<h2 id="初始化Hexo"><a href="#初始化Hexo" class="headerlink" title="初始化Hexo"></a>初始化Hexo</h2><p>接着上面的操作，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p>如图：<br><img src="/imgs/opinion/hexo-init.png" alt="hexo初始化"><br>然后输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></p>
<p>之后npm将会自动安装你需要的组件，只需要等待npm操作即可。</p>
<h2 id="首次体验Hexo"><a href="#首次体验Hexo" class="headerlink" title="首次体验Hexo"></a>首次体验Hexo</h2><p>继续操作，同样是在命令行中，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<p>如图：<br><img src="/imgs/opinion/hexo-g.png" alt="hexo渲染"><br>然后输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>然后会提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>在浏览器中打开<code>http://localhost:4000/</code>，你将会看到：<br><img src="/imgs/opinion/hexo-first-time.png" alt="hexo初体验"><br>到目前为止，Hexo在本地的配置已经全都结束了。</p>
<h1 id="使用Hexo"><a href="#使用Hexo" class="headerlink" title="使用Hexo"></a>使用Hexo</h1><blockquote>
<p>在配置过程中请使用<a href="http://www.yamllint.com/" target="_blank" rel="external">yamllint</a>来保证自己的yaml语法正确</p>
</blockquote>
<h2 id="修改全局配置文件"><a href="#修改全局配置文件" class="headerlink" title="修改全局配置文件"></a>修改全局配置文件</h2><p><em>此段落引用自<a href="http://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="external">Hexo官方文档</a></em></p>
<p>您可以在 <code>_config.yml</code> 中修改大部份的配置。</p>
<h3 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>网站标题</td>
</tr>
<tr>
<td><code>subtitle</code></td>
<td>网站副标题</td>
</tr>
<tr>
<td><code>description</code></td>
<td>网站描述</td>
</tr>
<tr>
<td><code>author</code></td>
<td>您的名字</td>
</tr>
<tr>
<td><code>language</code></td>
<td>网站使用的语言</td>
</tr>
<tr>
<td><code>timezone</code></td>
<td>网站时区。Hexo 默认使用您电脑的时区。<a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="external">时区列表</a>。比如说：<code>America/New_York</code>, <code>Japan</code>, 和 <code>UTC</code> 。</td>
</tr>
</tbody>
</table>
<h3 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td>网址</td>
<td></td>
</tr>
<tr>
<td><code>root</code></td>
<td>网站根目录</td>
<td></td>
</tr>
<tr>
<td><code>permalink</code></td>
<td>文章的 <a href="permalinks.html">永久链接</a> 格式</td>
<td><code>:year/:month/:day/:title/</code></td>
</tr>
<tr>
<td><code>permalink_default</code></td>
<td>永久链接中各部分的默认值</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>如果您的网站存放在子目录中，例如 <code>http://yoursite.com/blog</code>，则请将您的 <code>url</code> 设为 <code>http://yoursite.com/blog</code> 并把 <code>root</code> 设为 <code>/blog/</code>。</p>
</blockquote>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>source_dir</code></td>
<td>资源文件夹，这个文件夹用来存放内容。</td>
<td><code>source</code></td>
</tr>
<tr>
<td><code>public_dir</code></td>
<td>公共文件夹，这个文件夹用于存放生成的站点文件。</td>
<td><code>public</code></td>
</tr>
<tr>
<td><code>tag_dir</code></td>
<td>标签文件夹</td>
<td><code>tags</code></td>
</tr>
<tr>
<td><code>archive_dir</code></td>
<td>归档文件夹</td>
<td><code>archives</code></td>
</tr>
<tr>
<td><code>category_dir</code></td>
<td>分类文件夹</td>
<td><code>categories</code></td>
</tr>
<tr>
<td><code>code_dir</code></td>
<td>Include code 文件夹</td>
<td>`downloads/code</td>
</tr>
<tr>
<td><code>i18n_dir</code></td>
<td>国际化（i18n）文件夹</td>
<td><code>:lang</code></td>
</tr>
<tr>
<td><code>skip_render</code></td>
<td>跳过指定文件的渲染，您可使用 <a href="https://github.com/isaacs/node-glob" target="_blank" rel="external">glob 表达式</a>来匹配路径。</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>new_post_name</code></td>
<td>新文章的文件名称</td>
<td>:title.md</td>
</tr>
<tr>
<td><code>default_layout</code></td>
<td>预设布局</td>
<td>post</td>
</tr>
<tr>
<td><code>auto_spacing</code></td>
<td>在中文和英文之间加入空格</td>
<td>false</td>
</tr>
<tr>
<td><code>titlecase</code></td>
<td>把标题转换为 title case</td>
<td>false</td>
</tr>
<tr>
<td><code>external_link</code></td>
<td>在新标签中打开链接</td>
<td>true</td>
</tr>
<tr>
<td><code>filename_case</code></td>
<td>把文件名称转换为 (1) 小写或 (2) 大写</td>
<td>0</td>
</tr>
<tr>
<td><code>render_drafts</code></td>
<td>显示草稿</td>
<td>false</td>
</tr>
<tr>
<td><code>post_asset_folder</code></td>
<td>启动 <a href="asset-folders.html">Asset 文件夹</a></td>
<td>false</td>
</tr>
<tr>
<td><code>relative_link</code></td>
<td>把链接改为与根目录的相对位址</td>
<td>false</td>
</tr>
<tr>
<td><code>future</code></td>
<td>显示未来的文章</td>
<td>true</td>
</tr>
<tr>
<td><code>highlight</code></td>
<td>代码块的设置</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="分类-amp-标签"><a href="#分类-amp-标签" class="headerlink" title="分类 &amp; 标签"></a>分类 &amp; 标签</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>default_category</code></td>
<td>默认分类</td>
<td><code>uncategorized</code></td>
</tr>
<tr>
<td><code>category_map</code></td>
<td>分类别名</td>
<td></td>
</tr>
<tr>
<td><code>tag_map</code></td>
<td>标签别名</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="日期-时间格式"><a href="#日期-时间格式" class="headerlink" title="日期 / 时间格式"></a>日期 / 时间格式</h3><p>Hexo 使用 <a href="http://momentjs.com/" target="_blank" rel="external">Moment.js</a> 来解析和显示时间。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>date_format</code></td>
<td>日期格式</td>
<td><code>MMM D YYYY</code></td>
</tr>
<tr>
<td><code>time_format</code></td>
<td>时间格式</td>
<td><code>H:mm:ss</code></td>
</tr>
</tbody>
</table>
<h3 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>per_page</code></td>
<td>每页显示的文章量 (0 = 关闭分页功能)</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>pagination_dir</code></td>
<td>分页目录</td>
<td><code>page</code></td>
</tr>
</tbody>
</table>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>theme</code></td>
<td>当前主题名称。值为<code>false</code>时禁用主题</td>
</tr>
<tr>
<td><code>deploy</code></td>
<td>部署部分的设置</td>
</tr>
</tbody>
</table>
<h2 id="配置Deployment"><a href="#配置Deployment" class="headerlink" title="配置Deployment"></a>配置Deployment</h2><p>首先，你需要为自己配置身份信息，打开命令行，然后输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;yourname&quot;</span><br><span class="line">git config --global user.email &quot;youremail&quot;</span><br></pre></td></tr></table></figure>
<p>同样在<code>_config.yml</code>文件中，找到<code>Deployment</code>，然后按照如下修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果使用git方式进行部署，执行<code>npm install hexo-deployer-git --save</code>来安装所需的插件</p>
</blockquote>
<p>然后在当前目录打开命令行，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>随后按照提示，分别输入自己的Github账号用户名和密码，开始上传。<br>然后通过<a href="http://yourname.github.io/来访问自己刚刚上传的网站。" target="_blank" rel="external">http://yourname.github.io/来访问自己刚刚上传的网站。</a></p>
<h2 id="添加新文章"><a href="#添加新文章" class="headerlink" title="添加新文章"></a>添加新文章</h2><p>打开Hexo目录下的<code>source</code>文件夹，所有的文章都会以md形式保存在<code>_post</code>文件夹中，只要在<code>_post</code>文件夹中新建md类型的文档，就能在执行<code>hexo g</code>的时候被渲染。<br>新建的文章头需要添加一些yml信息，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hello-world   //在此处添加你的标题。</span><br><span class="line">date: 2014-11-7 08:55:29   //在此处输入你编辑这篇文章的时间。</span><br><span class="line">categories: Exercise   //在此处输入这篇文章的分类。</span><br><span class="line">toc: true  //在此处设定是否开启目录，需要主题支持。</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h1 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h1><p>如果成功完成了上述的全部步骤，恭喜你，你已经搭建了一个最为简单且基础的博客。但是这个博客还非常简单， 没有个人的定制，操作也比较复杂，下面的进阶技巧将会让你获得对Hexo更为深入的了解。</p>
<h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p><em>可以在<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">此处</a>寻找自己喜欢的主题</em><br>下载所有的主题文件，保存到Hexo目录下的<code>themes</code>文件夹下。然后在<code>_config.yml</code>文件中修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: http://hexo.io/plugins/</span><br><span class="line">## Themes: http://hexo.io/themes/</span><br><span class="line">theme: landscape //themes文件夹中对应文件夹的名称</span><br></pre></td></tr></table></figure>
<p>然后先执行<code>hexo clean</code>，然后重新<code>hexo g</code>，并且<code>hexo d</code>，很快就能看到新主题的效果了~</p>
<h2 id="更换域名"><a href="#更换域名" class="headerlink" title="更换域名"></a>更换域名</h2><p>首先，需要注册一个域名。在中国的话，<code>.cn</code>全都需要进行备案，如果不想备案的话，请注册别的顶级域名，可以使用<a href="https://www.godaddy.com/" target="_blank" rel="external">godaddy</a>或<a href="http://www.xinnet.com/" target="_blank" rel="external">新网</a>或<a href="http://www.xinnet.com/" target="_blank" rel="external">万网</a>中的任意一家，自己权衡价格即可。<br>然后，我们需要配置一下域名解析。推荐使用DNSPod的服务，比较稳定，解析速度比较快。在域名注册商出修改NS服务器地址为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f1g1ns1.dnspod.net</span><br><span class="line">f1g1ns2.dnspod.net</span><br></pre></td></tr></table></figure>
<p>以新网为例，首先点击域名管理进入管理页面：<br><img src="/imgs/opinion/domin-setting.png" alt="点击域名管理"><br>然后点击域名后面的<code>管理</code>：<br><img src="/imgs/opinion/mydomin.png" alt="管理"><br>进入域名管理的操作界面，点击<code>域名管理</code>，来到域名管理界面：<br><img src="/imgs/opinion/domin-config.png" alt="终于来到了域名管理= ="><br>点击<code>修改域名DNS</code>，然后选择<code>填写具体信息</code>，在下面的空框中填入DNSPod的NS服务器：<br><img src="/imgs/opinion/domin-dnspod.png" alt="使用DNSPod的服务器"><br>然后我们进入DNSPod的界面，开始真正进入域名解析的配置= =。在DNSPod中，首先添加域名，然后分别添加如下条目：<br><img src="/imgs/opinion/dnspod-setting.png" alt="配置DNS解析"><br>最后，我们对Github进行一下配置。<br>在自己本地的hexo目录下的<code>source</code>文件夹中，新建一个<code>CNAME</code>文件<em>（注意，没有后缀名。）</em>，内容为<code>yourdomin.xxx</code>。然后再执行一下<code>hexo d -g</code>，重新上传自己的博客。<br>在github中打开你自己的库，进入库的setting界面，如果看到了如下提示，说明配置成功了。<br><img src="/imgs/opinion/Github-domin.png" alt="Github-pages绑定自定义域名"><br>在这一系列的操作中，包括修改NS服务器，设置A解析等等，都需要一定的时间。短则10分钟，长则24小时，最长不会超过72小时。如果超过72小时，请检查自己的配置过程，或者修改自己本地的DNS服务器。</p>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2015年03月26日 完成了基础架构，慢慢添加进阶技巧= =。</li>
<li>2015年03月31日 添加了CNAME的相关内容。</li>
<li>2015年04月30日 修复了错误的git命令。</li>
<li>2015年06月11日 更新了<code>.config_yml</code>配置</li>
<li>2015年10月12日 完善了Deployment部分操作，添加了yaml语法检测网址</li>
<li>2015年12月09日 更新软件版本，为Hexo 3.2做准备</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2015/03/26/hexo-intor/">史上最详细的Hexo博客搭建图文教程</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2015年3月26日 - 00时03分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2015/03/26/hexo-intor/"
                                            title="史上最详细的Hexo博客搭建图文教程">https://xuanwo.org/2015/03/26/hexo-intor/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Hexo/"> #Hexo </a>
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                        <a href="/tags/Software/"> #Software </a>
                    
                </div>
            
        </div>

    </article>



            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2015-02-07T14:40:16+00:00"
                  content="Feb 7 2015">
                Feb 7 2015
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2015/02/07/generate-a-ssh-key/#disqus_thread" data-disqus-identifier="2015/02/07/generate-a-ssh-key/">
              <span class="disqus-comment-count" data-disqus-identifier="2015/02/07/generate-a-ssh-key/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2015/02/07/generate-a-ssh-key/">使用Github SSH Key以免去Hexo部署时输入密码</a></h2>
        
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>原文本来放在<a href="http://xuanwo.org/2014/08/14/hexo-usual-problem/">Hexo常见问题解决方案</a>之中，但是由于步骤较多，理解起来比较困难，因此将本文独立出来单独成篇，以便于进行操作。</p>
<a id="more"></a>
<h1 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h1><h2 id="修改-config-yml"><a href="#修改-config-yml" class="headerlink" title="修改_config.yml"></a>修改_config.yml</h2><p>将_config.yml的git信息修改为SSH形式。</p>
<h2 id="列出已存在的SSH-Key"><a href="#列出已存在的SSH-Key" class="headerlink" title="列出已存在的SSH Key"></a>列出已存在的SSH Key</h2><p>打开Git Bash，并且输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -al ~/.ssh</span><br></pre></td></tr></table></figure></p>
<p>这个命令会列出你<code>.ssh</code>账户中已经存在的SSH key，如果之前没有设置过，一般都是没有。</p>
<h2 id="生成密钥"><a href="#生成密钥" class="headerlink" title="生成密钥"></a>生成密钥</h2><p>然后输入：<br><code>ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</code><br>这个命令将会生成一个以<code>your_email@example.com</code>为标签的ssh key，然后bash中会显示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/c/Users/you/.ssh/id_rsa): [Press enter]</span><br></pre></td></tr></table></figure>
<p>直接回车，然后出现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase): [Type a passphrase]</span><br><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure>
<p>因为追求操作方便，我们不打算在deploy的时候输入这个<code>passphrase</code>，所以直接回车两次设为空。然后你会看到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved in ~/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in ~/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com</span><br></pre></td></tr></table></figure>
<h2 id="加入SSH-Agent"><a href="#加入SSH-Agent" class="headerlink" title="加入SSH Agent"></a>加入SSH Agent</h2><p>下一步输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-agent -s</span><br></pre></td></tr></table></figure></p>
<p>如果出现类似<code>Agent pid XXXX</code>这样的字样，则跳过下一步，否则输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval `ssh-agent -s`</span><br></pre></td></tr></table></figure>
<p>直到出现<code>Agent pid XXXX</code>这样的提示之后，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<p>这样，你成功的在本地生成了一个可用的SSH key。</p>
<h2 id="将SSH-Key添加到Github中"><a href="#将SSH-Key添加到Github中" class="headerlink" title="将SSH Key添加到Github中"></a>将SSH Key添加到Github中</h2><p>下面将这个key添加到github网站。<br>打开<a href="https://github.com/settings/ssh" target="_blank" rel="external">https://github.com/settings/ssh</a>，点击<code>Add SSH Key</code>，复制<code>id_rsa.pub</code>中的所有内容到<code>Key</code>框中，在<code>Title</code>框中输入方便自己记忆的名字（建议输入能让自己明白是哪台电脑的名字，方便以后管理）。<br>当网页显示添加成功后，就已经完成了全部的操作。<br>下面进行一些测试，同样是打开Git Bash，输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></p>
<p>bash中会显示如下字样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)?</span><br></pre></td></tr></table></figure>
<p>输入yes之后，计算机会自动将<code>github.com</code>列入已知的host，然后会出现如下提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi username! You&apos;ve successfully authenticated, but GitHub does not</span><br><span class="line">provide shell access.</span><br></pre></td></tr></table></figure>
<p>如果成功看见，说明你已经配置好了，快去享受爽快的hexo一键部署吧；<br>如果出现任何错误提示，请仔细检查自己的操作，或者将错误信息发给我。</p>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2015年02月07日 独立成篇</li>
<li>2015年02月16日 补充<code>_config.yml</code>的修改</li>
<li>2015年03月22日 修复了一处代码显示BUG</li>
<li>2016年04月07日 修复了部分代码格式问题</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2015/02/07/generate-a-ssh-key/">使用Github SSH Key以免去Hexo部署时输入密码</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2015年2月7日 - 14时02分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2015/02/07/generate-a-ssh-key/"
                                            title="使用Github SSH Key以免去Hexo部署时输入密码">https://xuanwo.org/2015/02/07/generate-a-ssh-key/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Hexo/"> #Hexo </a>
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                </div>
            
        </div>

    </article>



            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2015-02-07T14:00:51+00:00"
                  content="Feb 7 2015">
                Feb 7 2015
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2015/02/07/Travis-CI-Hexo-Autodeploy/#disqus_thread" data-disqus-identifier="2015/02/07/Travis-CI-Hexo-Autodeploy/">
              <span class="disqus-comment-count" data-disqus-identifier="2015/02/07/Travis-CI-Hexo-Autodeploy/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2015/02/07/Travis-CI-Hexo-Autodeploy/">使用Travis CI自动部署Hexo</a></h2>
        
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前两天了解到了一个有趣的概念叫持续集成：</p>
<blockquote>
<p>持续集成是一种软件开发实践。在持续集成中，团队成员频繁集成他们的工作成果，一般每人每天至少集成一次，也可以多次。每次集成会经过自动构建（包括自动测试）的检验，以尽快发现集成错误。许多团队发现这种方法可以显著减少集成引起的问题，并可以加快团队合作软件开发的速度。这篇文章简要介绍了持续集成的技巧和它最新的应用。<br>然后想到我的博客也恰好满足这样的需求，因为我的博客一旦有了修改，就必须要重新build并且部署，那么能不能用持续集成的思想来改造我部署博客的流程呢？</p>
</blockquote>
<p>在这样的指导思想下，我完成了上一篇文章：<a href="https://xuanwo.org/2015/02/05/VPS-Hexo-Autodeploy/">VPS搭配Github Webhook实现Hexo自动发布</a>，而今天我要介绍一下，在没有VPS的情况下，如何更方便的配置自己的持续集成的博客。</p>
<h1 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h1><ul>
<li>方便：只需要一次配置，便省去了每一次编辑文档后，都需要进行<code>hexo d -g</code>的麻烦，更不必说文章增多之后渲染时间还会增长。</li>
<li>稳定：这个是最近才发现的，Github被搞了之后，很多人反映不能更新博客了，使用<code>Travis CI</code>，你只要想办法提交一个小md文档，就能进行构建。如果自己手动构建，只要一个文件上传失败，前面的工作都白费了。</li>
<li>快捷：即使是出差在外，只要能编辑Markdown，就可以撰写博客，使得Hexo拥有类似于WP一致的体验~</li>
<li>协作：博客的构建完全交由<code>Travis CI</code>进行，所以完全可以通过<code>Hexo</code>+<code>git</code>构建一个多人协作的博客平台。实际上，Hexo的<a href="https://hexo.io/" target="_blank" rel="external">官网</a>正是这样构建的。</li>
</ul>
<a id="more"></a>
<h1 id="Travis-CI介绍"><a href="#Travis-CI介绍" class="headerlink" title="Travis CI介绍"></a>Travis CI介绍</h1><blockquote>
<p>Travis CI是在软件开发领域中的一个在线的，分布式的持续集成服务，用来构建及测试在GitHub托管的代码。这个软件的代码同时也是开源的，可以在GitHub上下载到，尽管开发者当前并不推荐在闭源项目中单独使用它。<br>它提供了多种编程语言的支持，包括Ruby，JavaScript，Java，Scala，PHP，Haskell和Erlang在内的多种语言。许多知名的开源项目使用它来在每次提交的时候进行构建测试，比如Ruby on Rails，Ruby和Node.js。<br>2012年，Travis CI 决定进行募资以支持后续的开发，在这次募资活动中，许多重量级的科技公司给予了资助。</p>
</blockquote>
<p>需要注意的是几个特性：</p>
<ul>
<li>只支持Github</li>
<li>支持JavaScript</li>
<li>开源，免费</li>
</ul>
<p>然后介绍一下它的原理：<br>Travis CI会在你每一次提交之后生成一个虚拟机来执行你事先安排好的build任务，你可以调整这个虚拟机的软件环境，甚至能执行<code>sudo</code>来进行<code>apt-get install</code>。</p>
<h1 id="Travis-CI配置"><a href="#Travis-CI配置" class="headerlink" title="Travis CI配置"></a>Travis CI配置</h1><p>我们知道，Hexo的命令非常简单，一个<code>hexo d -g</code>就可以搞定。困难之处在于，Travis CI并没有对你的库进行push操作的权限。如果直接将私钥放在自己的开源库之中，这无异于将自己的代码库提交权限开放给了所有的Github使用者。所以，为了保护自己，我们需要采取一些配置操作。</p>
<p><em>感谢Hexo作者<a href="http://zespia.tw/" target="_blank" rel="external">tommy351</a>提供的操作流程，原文可见于<a href="http://zespia.tw/blog/2015/01/21/continuous-deployment-to-github-with-travis/" target="_blank" rel="external">用 Travis CI 自動部署網站到 GitHub</a></em></p>
<h2 id="生成SSH-Key"><a href="#生成SSH-Key" class="headerlink" title="生成SSH Key"></a>生成SSH Key</h2><p>参见<a href="http://xuanwo.org/2015/02/07/generate-a-ssh-key/">使用Github SSH Key以免去Hexo部署时输入密码</a><br>需要注意的是，这个SSH key不应成为你账号的全局SSH key<em>（因为这样Travis CI就获得了你所有代码库的提交权限，这是不正确的）</em>，而应该添加至<a href="https://github.com/username/ropename/settings/keys" target="_blank" rel="external">https://github.com/username/ropename/settings/keys</a> ，这样，你就控制了Travis CI的权限。</p>
<h2 id="加密私钥"><a href="#加密私钥" class="headerlink" title="加密私钥"></a>加密私钥</h2><p>下面的操作需要事先配置好gem环境，如果没有可以尝试使用<a href="http://xuanwo.org/2014/08/07/Cloud9/">强大且配置项丰富的在线IDE应用——Cloud9</a>。</p>
<h3 id="安装Travis-CI的命令行工具"><a href="#安装Travis-CI的命令行工具" class="headerlink" title="安装Travis CI的命令行工具"></a>安装Travis CI的命令行工具</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install travis</span><br></pre></td></tr></table></figure>
<h3 id="登陆Travis-CI"><a href="#登陆Travis-CI" class="headerlink" title="登陆Travis CI"></a>登陆Travis CI</h3><p>需要输入Github账号和密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">travis login --auto</span><br></pre></td></tr></table></figure>
<h3 id="加密私钥并上传至Travis"><a href="#加密私钥并上传至Travis" class="headerlink" title="加密私钥并上传至Travis"></a>加密私钥并上传至Travis</h3><p>正确生成后你会得到两个文件，一个叫<code>ssh_key</code>，一个叫<code>ssh_key.pub</code>。刚才我们将<code>ssh_key.pub</code>添加到了github，下面我们要加密<code>ssh_key</code>这个私钥并且上传到Travis。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">travis encrypt-file ssh_key --add</span><br></pre></td></tr></table></figure>
<p>然后Travis的客户端会自动检测当前目录中的git信息，并且添加到<code>.travis.yml</code>中去。在进行此步操作前，目录下要先存在<code>.travis.yml</code>文件，否则会报错。</p>
<h3 id="指定SSH设置"><a href="#指定SSH设置" class="headerlink" title="指定SSH设置"></a>指定SSH设置</h3><p>在当前目录下新建文件<code>ssh_config</code>，内容为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  User git</span><br><span class="line">  StrictHostKeyChecking no</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa</span><br><span class="line">  IdentitiesOnly yes</span><br></pre></td></tr></table></figure>
<p>然后指定openssl解密后的生成位置，修改Travis自动插入的解密指令(不要照抄，注意修改密钥)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- openssl aes-256-cbc -K $encrypted_xxxxxxxxxx_key -iv $encrypted_xxxxxxxxxx_iv</span><br><span class="line">  -in travis.enc -out ~/.ssh/id_rsa -d</span><br></pre></td></tr></table></figure>
<h3 id="修改目录权限"><a href="#修改目录权限" class="headerlink" title="修改目录权限"></a>修改目录权限</h3><p>紧跟那条解密指令，换行输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- chmod 600 ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<p>注意yml格式，短杠后面的空格不能省略。</p>
<h3 id="将密钥加入系统"><a href="#将密钥加入系统" class="headerlink" title="将密钥加入系统"></a>将密钥加入系统</h3><p>紧跟上一步操作，换行输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- eval $(ssh-agent)</span><br><span class="line">- ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<h3 id="修改git信息"><a href="#修改git信息" class="headerlink" title="修改git信息"></a>修改git信息</h3><p>将之前创建的ssh_config复制到Travis的虚拟机中去，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- cp ssh_config ~/.ssh/config</span><br></pre></td></tr></table></figure>
<p>然后指定git使用者信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- git config --global user.name &quot;username&quot;</span><br><span class="line">- git config --global user.email username@example.com</span><br></pre></td></tr></table></figure>
<h2 id="Build配置"><a href="#Build配置" class="headerlink" title="Build配置"></a>Build配置</h2><p>之前的所有操作都只是为了让Travis CI拥有push权限，下面我们开始进入到真正的Build配置当中。<br>之前我们用到了一个名为<code>.travis.yml</code>的文件，跟build有关的所有设置都在这个文件里面，下面的操作都在这个文件当中进行。</p>
<h3 id="指定环境"><a href="#指定环境" class="headerlink" title="指定环境"></a>指定环境</h3><p>在文件中添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">language: node_js</span><br><span class="line"></span><br><span class="line">node_js:</span><br><span class="line">- &apos;0.10&apos;   //指定使用node.js最新的稳定版0.10</span><br></pre></td></tr></table></figure>
<h3 id="指定分支"><a href="#指定分支" class="headerlink" title="指定分支"></a>指定分支</h3><p>在文件中添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">  - blog    //这个分支应当使用自己的源文件分支</span><br></pre></td></tr></table></figure>
<p>差点忘了讲- -，本方案只适用于用github来托管自己自己的hexo目录的用户。这里的分支应该使用包含有.md文档的那个分支。</p>
<h3 id="Hexo配置"><a href="#Hexo配置" class="headerlink" title="Hexo配置"></a>Hexo配置</h3><p>首先在虚拟机中安装Hexo：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">install:</span><br><span class="line">- npm install hexo-cli -g</span><br><span class="line">- npm install hexo --save</span><br><span class="line">- npm install</span><br></pre></td></tr></table></figure>
<p>然后执行Hexo的渲染操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">script:</span><br><span class="line">- hexo clean   //分开写，方便调试可能出现的错误</span><br><span class="line">- hexo d</span><br><span class="line">- hexo g</span><br></pre></td></tr></table></figure>
<p>到这里，你的Travis CI的持续集成已经配置完毕了，最后的<code>.travis.yml</code>文件内容可以参考如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">  - blog</span><br><span class="line"></span><br><span class="line">language: node_js</span><br><span class="line"></span><br><span class="line">sudo: false</span><br><span class="line"></span><br><span class="line">node_js:</span><br><span class="line">- &apos;0.12&apos;</span><br><span class="line"></span><br><span class="line">before_install:</span><br><span class="line">- openssl aes-256-cbc -K $encrypted_xxxxxxxxx_key -iv $encrypted_xxxxxxx_iv</span><br><span class="line">  -in doc/travis.enc -out ~/.ssh/id_rsa -d</span><br><span class="line">- chmod 600 ~/.ssh/id_rsa</span><br><span class="line">- eval $(ssh-agent)</span><br><span class="line">- ssh-add ~/.ssh/id_rsa</span><br><span class="line">- cp doc/ssh_config ~/.ssh/config</span><br><span class="line">- git config --global user.name &quot;yourname&quot;</span><br><span class="line">- git config --global user.email youremail</span><br><span class="line">- git clone -b master git@github.com:yourname/yourrepo.git .deploy_git</span><br><span class="line"></span><br><span class="line">install:</span><br><span class="line">- npm install hexo-cli -g</span><br><span class="line">- npm install</span><br><span class="line">- npm install hexo-generator-feed --save</span><br><span class="line">- npm install hexo-generator-sitemap --save</span><br><span class="line">- npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">- hexo clean</span><br><span class="line">- hexo g</span><br><span class="line">- hexo d</span><br></pre></td></tr></table></figure>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2015年02月07日 首次发布，感谢Tommy351</li>
<li>2015年02月16日 跟随Hexo版本更新，修改了相关代码。</li>
<li>2015年03月22日 Hexo3.0稳定版发布，修改相关代码，并修复部分显示问题。</li>
<li>2015年04月01日 因为自己的.travis.yml有大幅度修改，所以重新添加了相关代码，避免产生困扰。</li>
<li>2015年10月23日 修复部分错字，更新了.travis.yml</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2015/02/07/Travis-CI-Hexo-Autodeploy/">使用Travis CI自动部署Hexo</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2015年2月7日 - 14时02分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2015/02/07/Travis-CI-Hexo-Autodeploy/"
                                            title="使用Travis CI自动部署Hexo">https://xuanwo.org/2015/02/07/Travis-CI-Hexo-Autodeploy/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Hexo/"> #Hexo </a>
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                </div>
            
        </div>

    </article>



            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2015-02-05T23:22:30+00:00"
                  content="Feb 5 2015">
                Feb 5 2015
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2015/02/05/VPS-Hexo-Autodeploy/#disqus_thread" data-disqus-identifier="2015/02/05/VPS-Hexo-Autodeploy/">
              <span class="disqus-comment-count" data-disqus-identifier="2015/02/05/VPS-Hexo-Autodeploy/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2015/02/05/VPS-Hexo-Autodeploy/">VPS搭配Github Webhook实现Hexo自动发布</a></h2>
        
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>自从买了VPS之后，我的人生就多了一个需要思考的问题——我的VPS还能用来干嘛？然后想到Github有一个Webhook的功能，可以在每一次提交之后发送一个POST到指定的URL。那么，只要找一个办法获取这个POST，再执行指定的命令，可以实现Hexo的自动发布功能了。从此以后，不管在哪里，我只要修改我的md文件，push之后我的服务器就能自动进行编译并且部署了。</p>
<a id="more"></a>
<h1 id="配置Nginx"><a href="#配置Nginx" class="headerlink" title="配置Nginx"></a>配置Nginx</h1><h2 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h2><p>使用apt-get程序来安装nginx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure>
<p>在浏览器中访问<a href="http://your-ip-address" target="_blank" rel="external">http://your-ip-address</a> or domain/， 如果看到<code>Welcome to nginx!</code>字样，说明Nginx已经安装成功了。</p>
<h2 id="配置Nginx-1"><a href="#配置Nginx-1" class="headerlink" title="配置Nginx"></a>配置Nginx</h2><p>修改<code>/etc/nginx/sites-available/default</code>文件，在<code>serve</code>的框里面的空行中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">location /update &#123;</span><br><span class="line">proxy_pass http://127.0.0.1:1111;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样设置之后<code>http://your-ip-address or domain/update</code>访问就会被重定向到1111端口。</p>
<h2 id="重启Nginx"><a href="#重启Nginx" class="headerlink" title="重启Nginx"></a>重启Nginx</h2><p>输入：<br><code>/etc/init.d/nginx restart</code></p>
<h1 id="配置Git"><a href="#配置Git" class="headerlink" title="配置Git"></a>配置Git</h1><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h2><p>输入：<br><code>apt-get install git</code></p>
<h2 id="下载自己的代码库"><a href="#下载自己的代码库" class="headerlink" title="下载自己的代码库"></a>下载自己的代码库</h2><p>输入：<br><code>git clone yourgit yourdir</code></p>
<h1 id="配置Python"><a href="#配置Python" class="headerlink" title="配置Python"></a>配置Python</h1><h2 id="安装Python环境"><a href="#安装Python环境" class="headerlink" title="安装Python环境"></a>安装Python环境</h2><p>输入：<br><code>apt-get install python-pip</code><br>然后系统会自动完成相关的配置。</p>
<h2 id="编辑Python文件"><a href="#编辑Python文件" class="headerlink" title="编辑Python文件"></a>编辑Python文件</h2><p>输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd ~/yourdir</span><br><span class="line">vi hook.py</span><br></pre></td></tr></table></figure>
<p>在打开的vim界面中，点击一下<code>i</code>，进入insert模式，然后粘贴以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#!/usr/bin/env python3</span><br><span class="line">#-*- coding:utf-8 -*-</span><br><span class="line"># start a python service and watch the nginx request dog</span><br><span class="line"></span><br><span class="line">from http.server import HTTPServer,CGIHTTPRequestHandler</span><br><span class="line">from threading import Thread,RLock</span><br><span class="line">import subprocess</span><br><span class="line">import logging</span><br><span class="line">import sys</span><br><span class="line">import os.path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_PWD=os.path.abspath(os.path.dirname(__file__))</span><br><span class="line">def execute_cmd(args,cwd=None,timeout=30):</span><br><span class="line">    if isinstance(args,str): args = [args]</span><br><span class="line">    try:</span><br><span class="line">        with subprocess.Popen(args,stdout=subprocess.PIPE,cwd=cwd) as proc:</span><br><span class="line">            try:</span><br><span class="line">                output,unused_err = proc.communicate(timeout=timeout)</span><br><span class="line">            except:</span><br><span class="line">                proc.kill()</span><br><span class="line">                raise</span><br><span class="line">            retcode = proc.poll()</span><br><span class="line">            if retcode:</span><br><span class="line">                raise subprocess.CalledProcessError(retcode, proc.args, output=output)</span><br><span class="line">            return output.decode(&apos;utf-8&apos;,&apos;ignore&apos;) if output else &apos;&apos;</span><br><span class="line">    except Exception as ex:</span><br><span class="line">        logging.error(&apos;EXECUTE_CMD_ERROR: %s&apos;,&apos; &apos;.join(str(x) for x in args))</span><br><span class="line">        raise ex</span><br><span class="line"></span><br><span class="line">class HttpHandler(CGIHTTPRequestHandler):</span><br><span class="line">    _lock = RLock()</span><br><span class="line">    _counter = 0</span><br><span class="line">    _building = False</span><br><span class="line"></span><br><span class="line">    def build(self):</span><br><span class="line">        with HttpHandler._lock:</span><br><span class="line">            if HttpHandler._counter == 0 or HttpHandler._building:</span><br><span class="line">                return</span><br><span class="line">        HttpHandler._counter = 0</span><br><span class="line">        HttpHandler._building = True</span><br><span class="line">        logging.info(&quot;BUILDING NOW...&quot;)</span><br><span class="line">        try:</span><br><span class="line">            resp = execute_cmd(os.path.join(_PWD,&apos;build.sh&apos;),cwd=_PWD,timeout=600)</span><br><span class="line">            logging.info(resp)</span><br><span class="line">        finally:</span><br><span class="line">            HttpHandler._building = False</span><br><span class="line">            self.build()</span><br><span class="line"></span><br><span class="line">    def do_GET(self):</span><br><span class="line">        self.do_POST()</span><br><span class="line">    def do_POST(self):</span><br><span class="line">        self.send_response(200,&apos;OK&apos;)</span><br><span class="line">        self.end_headers()</span><br><span class="line">        self.wfile.write(b&apos;OK&apos;)</span><br><span class="line">        self.wfile.flush()</span><br><span class="line">        with HttpHandler._lock:</span><br><span class="line">            HttpHandler._counter += 1</span><br><span class="line">        Thread(target=self.build).start()</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    logging.basicConfig(format=&apos;%(asctime)s %(levelname)s: %(message)s&apos;,level=logging.INFO)</span><br><span class="line"></span><br><span class="line">    port = int(sys.argv[1]) if len(sys.argv) &gt; 1 else 1111</span><br><span class="line">    logging.info(&apos;starting the server at 127.0.0.1:%s&apos;,port)</span><br><span class="line">    httpd = HTTPServer((&apos;127.0.0.1&apos;,port),HttpHandler)</span><br><span class="line">    httpd.serve_forever()</span><br></pre></td></tr></table></figure>
<p>编辑完成后，输入<code>:wq</code>退出vi。</p>
<h1 id="编辑sh文件"><a href="#编辑sh文件" class="headerlink" title="编辑sh文件"></a>编辑sh文件</h1><p>切换到yourdir，然后输入：<br><code>vi build.sh</code><br>在打开的vi界面中，点击<code>i</code>进入编辑模式，然后输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;build at `date`&quot;</span><br><span class="line">. ~/.nvm/nvm.sh</span><br><span class="line">nvm use 0.10.36</span><br><span class="line">cd ~/xuanwo</span><br><span class="line">git pull</span><br><span class="line">hexo clean</span><br><span class="line">hexo d -g</span><br><span class="line">echo &quot;built successfully&quot;</span><br></pre></td></tr></table></figure>
<p>编辑完成后，输入<code>:wq</code>退出vi。</p>
<h1 id="后台运行Python脚本进行监视"><a href="#后台运行Python脚本进行监视" class="headerlink" title="后台运行Python脚本进行监视"></a>后台运行Python脚本进行监视</h1><p>运行：<br><code>nohup python3 ~/xuanwo/hook.py &gt;&gt; /tmp/hook.log 2&gt;&amp;1 &amp;</code><br><strong>每次重启VPS后，貌似都需要运行一次</strong></p>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2015年2月6日 首次发布</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2015/02/05/VPS-Hexo-Autodeploy/">VPS搭配Github Webhook实现Hexo自动发布</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2015年2月5日 - 23时02分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2015/02/05/VPS-Hexo-Autodeploy/"
                                            title="VPS搭配Github Webhook实现Hexo自动发布">https://xuanwo.org/2015/02/05/VPS-Hexo-Autodeploy/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Hexo/"> #Hexo </a>
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                        <a href="/tags/VPS/"> #VPS </a>
                    
                </div>
            
        </div>

    </article>



            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2014-08-14T05:20:00+00:00"
                  content="Aug 14 2014">
                Aug 14 2014
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2014/08/14/hexo-usual-problem/#disqus_thread" data-disqus-identifier="2014/08/14/hexo-usual-problem/">
              <span class="disqus-comment-count" data-disqus-identifier="2014/08/14/hexo-usual-problem/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2014/08/14/hexo-usual-problem/">Hexo常见问题解决方案</a></h2>
        
            <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Hexo是一个非常好用的静态博客生成器，但是由于很多方面的原因，导致在使用过程中经常出现错误。这些错误中，有些是因为自己的设置不当，导致程序报错；有些是因为版本更迭，导致原有的设置失效；而有些，则是Hexo程序本身的BUG。<br>本文旨在尽可能的解决前两类问题，缓解Hexo项目大量重复issues的现象。当然，我个人的力量是有限的，因此也希望使用Hexo的大家也能一起行动起来，通过<a href="https://github.com/Xuanwo/xuanwo.github.io/pulls" target="_blank" rel="external">提交PR</a>，<a href="https://github.com/Xuanwo/xuanwo.github.io/issues" target="_blank" rel="external">发布issues</a>或者在下方评论等形式参与到本文档的编辑中来。<br>同时，也希望有能力的人可以将本文档翻译成英文，以帮助到更多的人。<br>浏览时，使用<code>Ctrl+F</code>搜索关键词或使用目录来定位问题。</p>
<p><strong>本文欢迎转载，但是恳请保留贡献者信息，谢谢。</strong></p>
<a id="more"></a>
<hr>
<h1 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h1><h2 id="本地浏览没问题，Deploy报错"><a href="#本地浏览没问题，Deploy报错" class="headerlink" title="本地浏览没问题，Deploy报错"></a>本地浏览没问题，Deploy报错</h2><h3 id="Git环境配置错误"><a href="#Git环境配置错误" class="headerlink" title="Git环境配置错误"></a>Git环境配置错误</h3><p><strong>问题描述：</strong></p>
<p><em>Windows系统</em>出现报错信息如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[info] Start deploying: git</span><br><span class="line">[info] Setting up Git deployment...</span><br><span class="line">[error] Error: spawn ENOENT</span><br><span class="line">Error: spawn ENOENT</span><br><span class="line">    at errnoException (child_process.js:1000:11)</span><br><span class="line">    at Process.ChildProcess._handle.onexit (child_process.js:791:34)</span><br><span class="line"></span><br><span class="line">events.js:72</span><br><span class="line">        throw er; // Unhandled &apos;error&apos; event</span><br><span class="line">              ^</span><br><span class="line">Error: spawn ENOENT</span><br><span class="line">    at errnoException (child_process.js:1000:11)</span><br><span class="line">    at Process.ChildProcess._handle.onexit (child_process.js:791:34)</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong></p>
<p>检查Git的相关配置，将git所在目录添加到系统path中去。</p>
<h3 id="Deploy设置错误"><a href="#Deploy设置错误" class="headerlink" title="Deploy设置错误"></a>Deploy设置错误</h3><p><strong>问题描述：</strong></p>
<p>输入<code>hexo deploy</code>后，出现错误信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&apos;github&apos; does not appear to be a git repository</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong></p>
<ol>
<li>检查<code>_config.yml</code>中deploy设置。参见<a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">http://hexo.io/docs/deployment.html</a>。</li>
<li>删除<code>.deploy_git</code>文件夹并且执行<code>hexo clean</code>后，重新<code>hexo deploy</code>。</li>
</ol>
<h2 id="Deploy之后，页面长时间404"><a href="#Deploy之后，页面长时间404" class="headerlink" title="Deploy之后，页面长时间404"></a>Deploy之后，页面长时间404</h2><p><strong>问题描述：</strong></p>
<p><img src="/imgs/opinion/Github-404.png" alt="Github 404 孩子不哭"></p>
<p><strong>解决方案：</strong></p>
<h3 id="检查Github-Pages类型"><a href="#检查Github-Pages类型" class="headerlink" title="检查Github Pages类型"></a>检查Github Pages类型</h3><p><strong>个人主页</strong></p>
<p>也就是库的名称为<code>yourname.github.io</code>的主页，页面文件应当在master分支下，文件结构可以参考<a href="https://github.com/Xuanwo/xuanwo.github.io/tree/master" target="_blank" rel="external">我的主页</a>，也就是应当以HTML文件为主，是没有Markdown文件的。</p>
<p><strong>项目主页</strong></p>
<p>也就是库名不是<code>yourname.github.io</code>的主页，页面文件应当在<code>gh-pages</code>分支下，文件结构与个人主页基本一致，同样没有Markdown文件。</p>
<h3 id="检查Github验证邮件"><a href="#检查Github验证邮件" class="headerlink" title="检查Github验证邮件"></a>检查Github验证邮件</h3><p>曾经出现过所有操作都没有问题但就是404的状况，新创建的用户最好都去看看是不是验证邮件没有通过。</p>
<h3 id="注意库的名字"><a href="#注意库的名字" class="headerlink" title="注意库的名字"></a>注意库的名字</h3><p>现在大多改成<code>.io</code>结尾域名了，但是不确定是不是真的跟这个有关，最好改成<code>.io</code>。</p>
<h2 id="自有域名二级目录无法访问"><a href="#自有域名二级目录无法访问" class="headerlink" title="自有域名二级目录无法访问"></a>自有域名二级目录无法访问</h2><p><strong>问题描述</strong><br><a href="https://github.com/hexojs/hexo/issues/820" target="_blank" rel="external">参见issue820</a></p>
<p><strong>问题分析</strong></p>
<p>问题出在CNAME跳转，下面附上我的分析，如果不感兴趣可以直接翻到解决方案。</p>
<p>&gt;<br>如果没有CNAME跳转，访问<code>yourname.github.io/repo</code>会自动地去访问gh-pages分支下的静态文件。<br>但是一旦进行了CNAME跳转，访问<code>yourname.github.io/repo</code>就会自动跳转为<code>yoursite.com/repo</code>，显然在你的博客目录下是没有这个文件夹的，所以自然而然的会出现访问404错误。</p>
<p><strong>解决方案</strong></p>
<p><em>增加一个新的DNS记录</em></p>
<p>修改自己域名的DNS记录，增加一条记录（A记录或者CNAME都可以，指向github），内容是<code>repo.yoursite.com</code>，访问时通过<code>repo.yoursite.com</code>来访问。</p>
<p><em>将这个库移动到博客目录下</em></p>
<p>按照上述的分析，把这个库的repo移动至博客目录下即可。注意修改html以免被hexo再次渲染，还有如果是直接复制或者clone，注意删除隐藏的<code>.git</code>文件夹。</p>
<h2 id="Hexo命令失效"><a href="#Hexo命令失效" class="headerlink" title="Hexo命令失效"></a>Hexo命令失效</h2><p><strong>问题描述：</strong></p>
<p>输入命令后出现如下信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">localhost:~ apple$ hexo new &quot;title&quot;</span><br><span class="line">Usage: hexo</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">help Get help on a command</span><br><span class="line">init Create a new Hexo folder</span><br><span class="line">migrate Migrate your site from other system to Hexo</span><br><span class="line">version Display version information</span><br><span class="line"></span><br><span class="line">Global Options:</span><br><span class="line">--debug Display all verbose messages in the terminal</span><br><span class="line">--safe Disable all plugins and scripts</span><br><span class="line"></span><br><span class="line">For more help, you can use hexo help [command] for the detailed information</span><br><span class="line">or you can check the docs: http://zespia.tw/hexo/docs/</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong></p>
<ol>
<li>检查<code>_config.yml</code>中的内容，特别注意<code>:</code>后面需要有一个空格。</li>
<li>检查`package.json’中的内容，注意添加hexo信息用来标识这是一个hexo目录：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>如果还是有问题，可以更新hexo之后，在新的文件夹中重新进行<code>hexo init</code>。</li>
</ol>
<h2 id="Hexo所有命令报错"><a href="#Hexo所有命令报错" class="headerlink" title="Hexo所有命令报错"></a>Hexo所有命令报错</h2><p><strong>问题描述：</strong></p>
<p><a href="https://github.com/hexojs/hexo/issues/832" target="_blank" rel="external">参见Issues</a><br>报错信息如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[error] &#123; name: &apos;HexoError&apos;,</span><br><span class="line">  reason: &apos;end of the stream or a document separator is expected&apos;,</span><br><span class="line">  mark:</span><br><span class="line">   &#123; name: null,</span><br><span class="line">     buffer: &apos;# Hexo Configuration\n## Docs: http://hexo.io/docs/configuration.html\n## Source: https://github.com/tommy351/hexo/\n\n# Site\ntitle: 2hu\nsubtitle:\ndescription: 2hu\nauthor: @2hu10n92hen9\nemail:\nlanguage:\n\n# URL\n## If your site is put in a subdirectory, set url as \&apos;http://yoursite.com/child\&apos; and root as \&apos;/child/\&apos;\nurl: http://2hu.me\nroot: /\npermalink: :year/:month/:day/:title/\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\n\n# Directory\nsource_dir: source\npublic_dir: public\n\n# Writing\nnew_post_name: :year-:month-:day-:title.md # File name of new posts\ndefault_layout: post\nauto_spacing: false # Add spaces between asian characters and western characters\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nmax_open_file: 100\nmulti_thread: true\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: false\nhighlight:\n  enable: true\n  line_number: true\n  tab_replace:\n\n# Category &amp; Tag\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Archives\n## 2: Enable pagination\n## 1: Disable pagination\n## 0: Fully Disable\narchive: 2\ncategory: 2\ntag: 2\n\n# Server\n## Hexo uses Connect as a server\n## You can customize the logger format as defined in\n## http://www.senchalabs.org/connect/logger.html\nport: 4000\nserver_ip: 0.0.0.0\nlogger: false\nlogger_format:\n\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: MMM D YYYY\ntime_format: H:mm:ss\n\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 10\npagination_dir: page\n\n# Disqus\ndisqus_shortname: 2hu\n\n# Extensions\n## Plugins: https://github.com/tommy351/hexo/wiki/Plugins\n## Themes: https://github.com/tommy351/hexo/wiki/Themes\ntheme: strict\nexclude_generator:\n\n# Deployment\n## Docs: http://hexo.io/docs/deployment.html\ndeploy:\n  type: github\n  repository: https://github.com/zhulongzheng/zhulongzheng.github.io.git\n  branch: master\n\u0000&apos;,</span><br><span class="line">     position: 168,</span><br><span class="line">     line: 8,</span><br><span class="line">     column: 8 &#125;,</span><br><span class="line">  message: &apos;Config file load failed&apos;,</span><br><span class="line">  domain:</span><br><span class="line">   &#123; domain: null,</span><br><span class="line">     _events: &#123; error: [Function] &#125;,</span><br><span class="line">     _maxListeners: 10,</span><br><span class="line">     members: [ [Object] ] &#125;,</span><br><span class="line">  domainThrown: true,</span><br><span class="line">  stack: undefined &#125;</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong><br>仔细检查<code>_config.yml</code>文件中所有冒号后面的空格，格式很严格，必须是<strong>只有一个</strong>，<strong>半角</strong>。不管是多了还是少了都会报错，这是yml解释器所定义的语法。如果不确定的话，将输入法调整到英文模式，删除所有冒号后面的空格重新输入，不要使用Tab。</p>
<h2 id="更新至2-8-X版本后，构建失败"><a href="#更新至2-8-X版本后，构建失败" class="headerlink" title="更新至2.8.X版本后，构建失败"></a>更新至2.8.X版本后，构建失败</h2><p><strong>问题描述：</strong><br>输入<code>hexo g</code>后，报错如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[error] &#123; name: &apos;HexoError&apos;,</span><br><span class="line">  reason: &apos;incomplete explicit mapping pair; a key node is missed&apos;,</span><br><span class="line">  mark:</span><br><span class="line">   &#123; name: null,</span><br><span class="line">     buffer: &apos;categories: Categories\nsearch: Search\ntags: Tags\ntagcloud: Tag Cloud\ntweets: Tweets\nprev: Prev\nnext:</span><br><span class="line"> Next\ncomment: Comments\narchive_a: Archives\narchive_b: Archives: %s\npage: Page %d\nrecent_posts: Recent Posts\ndescr</span><br><span class="line">iption: Description\nread_more: Read More\n\u0000&apos;,</span><br><span class="line">     position: 163,</span><br><span class="line">     line: 9,</span><br><span class="line">     column: 19 &#125;,</span><br><span class="line">  message: &apos;Process failed: languages/default.yml&apos;,</span><br><span class="line">  domain:</span><br><span class="line">   &#123; domain: null,</span><br><span class="line">     _events: &#123; error: [Function] &#125;,</span><br><span class="line">     _maxListeners: 10,</span><br><span class="line">     members: [ [Object] ] &#125;,</span><br><span class="line">  domainThrown: true,</span><br><span class="line">  stack: undefined &#125;</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong></p>
<p>主题目录下所有yml文件中所有有空格的字段都用双引号括起来，尤其注意languages下面的yml文件。<br><img src="/imgs/opinion/hexo-languages-error.png" alt="就像这样"><br><em>感谢<a href="https://github.com/dukewan" target="_blank" rel="external">@dukewan</a>提供的截图</em></p>
<h2 id="修改主题文件之后，网页不更新"><a href="#修改主题文件之后，网页不更新" class="headerlink" title="修改主题文件之后，网页不更新"></a>修改主题文件之后，网页不更新</h2><p><strong>问题描述：</strong></p>
<p>在修改主题文件之后，页面的文件依然没有更新。</p>
<p><strong>解决方案：</strong></p>
<p><code>hexo clean</code>并且删除<code>.deploy_git</code>文件夹之后，<code>hexo d -g</code>。为了强制浏览器更新资源文件，可以采用’Ctrl+F5’来刷新。</p>
<h2 id="页面没有渲染（partial转义失败）"><a href="#页面没有渲染（partial转义失败）" class="headerlink" title="页面没有渲染（partial转义失败）"></a>页面没有渲染（partial转义失败）</h2><p><strong>问题描述：</strong></p>
<p><a href="https://github.com/hexojs/hexo/issues/838" target="_blank" rel="external">参见Issues</a><br>看不到渲染后的页面，只能看到类似如下信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%- partial(&apos;_partial/head&apos;) %&gt;</span><br><span class="line">&lt;%- partial(&apos;_partial/header&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</span><br><span class="line">&lt;%- body %&gt;</span><br><span class="line">&lt;% if (theme.sidebar &amp;&amp; theme.sidebar !== &apos;bottom&apos;)&#123; %&gt; &lt;%- partial(&apos;_partial/sidebar&apos;, null,     &#123;cache: !config.relative_link&#125;) %&gt; &lt;% &#125; %&gt;</span><br><span class="line">&lt;%- partial(&apos;_partial/footer&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</span><br><span class="line">&lt;%- partial(&apos;_partial/mobile-nav&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt; &lt;%- partial(&apos;_partial/after-footer&apos;) %&gt;</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong></p>
<p>在博客所在目录下执行’npm install’用以安装插件。</p>
<p><strong>感谢<a href="http://zespia.tw/" target="_blank" rel="external">@tommy351</a>提供的解决方案</strong></p>
<h2 id="更新至3-0-0版本后，文件渲染时卡死"><a href="#更新至3-0-0版本后，文件渲染时卡死" class="headerlink" title="更新至3.0.0版本后，文件渲染时卡死"></a>更新至3.0.0版本后，文件渲染时卡死</h2><p><strong>问题描述：</strong></p>
<p><a href="https://github.com/hexojs/hexo/issues/1137" target="_blank" rel="external">参见Issues</a><br>表现为文件不多，但是渲染非常缓慢，超过半个小时。</p>
<p><strong>问题分析：</strong></p>
<p>问题出在<code>Highlight.js</code>在判断语言类型时，会因为<code>-</code>这个符号导致卡死。</p>
<p><strong>解决方案：</strong></p>
<p>在使用代码块时，明确使用类型，或者全部使用<code>plain</code>类型，如下：</p>


<!--￼7-->


<h2 id="升级至Hexo-3-0版本后，deploy报错"><a href="#升级至Hexo-3-0版本后，deploy报错" class="headerlink" title="升级至Hexo 3.0版本后，deploy报错"></a>升级至Hexo 3.0版本后，deploy报错</h2><p><strong>问题描述：</strong></p>
<p><a href="https://github.com/hexojs/hexo/issues/1013" target="_blank" rel="external">参见Issues</a><br>升级之后，本来可以deploy的设置出现报错，内容为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ERROR Deployer not found: github</span><br></pre></td></tr></table></figure>
<p><strong>问题分析：</strong></p>
<p>Hexo3.0与以往版本最大的改变在于，更多的模块都从主程序中剥离了出来，其中就包括deploy的相关模块。</p>
<p><strong>解决方案：</strong></p>
<p>首先需要安装对应的deploy模块，目前Hexo支持以下服务器的一键部署：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git</span><br><span class="line">heroku</span><br><span class="line">rsync</span><br><span class="line">openshift</span><br></pre></td></tr></table></figure>
<p>安装命令为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install hexo-deployer-git --save //将git替换为别的名字就可以安装对应模块</span><br></pre></td></tr></table></figure>
<p>然后对<code>_config.yml</code>做如下设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git   //非git请参考官方文档中的设置</span><br><span class="line">  repo: &lt;repository url&gt;</span><br><span class="line">  branch: [branch]</span><br><span class="line">  message: [message]</span><br></pre></td></tr></table></figure>
<h2 id="Mac-OS安装Hexo出错"><a href="#Mac-OS安装Hexo出错" class="headerlink" title="Mac OS安装Hexo出错"></a>Mac OS安装Hexo出错</h2><p><strong>问题描述：</strong></p>
<p><a href="https://github.com/hexojs/hexo/issues/1326" target="_blank" rel="external">参见Issues</a><br>命令行返回ERROR：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123; [Error: Cannot find module &apos;./build/Release/DTraceProviderBindings&apos;] code: &apos;MODULE_NOT_FOUND&apos; &#125;</span><br><span class="line">&#123; [Error: Cannot find module &apos;./build/default/DTraceProviderBindings&apos;] code: &apos;MODULE_NOT_FOUND&apos; &#125;</span><br><span class="line">&#123; [Error: Cannot find module &apos;./build/Debug/DTraceProviderBindings&apos;] code: &apos;MODULE_NOT_FOUND&apos; &#125;</span><br></pre></td></tr></table></figure>
<p><strong>解决方案：</strong></p>
<p>使用命令<code>npm install hexo --no-optional</code></p>
<hr>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="如何在不同电脑（系统）上使用Hexo"><a href="#如何在不同电脑（系统）上使用Hexo" class="headerlink" title="如何在不同电脑（系统）上使用Hexo"></a>如何在不同电脑（系统）上使用Hexo</h2><p>使用<code>Git</code>来管理自己的<code>Blog</code>文件夹，需要注意一下几点。</p>
<ol>
<li><p>如果主题是通过git管理的，需要将主题文件夹下的<code>.git</code>文件夹删除或者使用git submodule的形式进行管理，才能同步Blog文件夹。</p>
</li>
<li><p>Blog目录下自带的<code>.gitignore</code>文件，<code>node_modules</code>文件夹是不会同步的，所以同步之后需要自己再次进行<code>npm install</code>，但是注意，不要进行<code>hexo init</code>了，否则<code>_config.yml</code>会被覆盖。</p>
</li>
</ol>
<p>然后看一下同步之后的目录结构：<br><a href="https://github.com/Xuanwo/xuanwo.github.io/tree/blog" target="_blank" rel="external">https://github.com/Xuanwo/xuanwo.github.io/tree/blog</a></p>
<h2 id="使用git-submodule来管理主题"><a href="#使用git-submodule来管理主题" class="headerlink" title="使用git submodule来管理主题"></a>使用git submodule来管理主题</h2><p>Todo</p>
<h2 id="在主目录下添加README-md文件或者html文件"><a href="#在主目录下添加README-md文件或者html文件" class="headerlink" title="在主目录下添加README.md文件或者html文件"></a>在主目录下添加<code>README.md</code>文件或者html文件</h2><h3 id="Hexo3-0以下使用"><a href="#Hexo3-0以下使用" class="headerlink" title="Hexo3.0以下使用"></a>Hexo3.0以下使用</h3><p><strong>感谢<a href="http://timnew.me/" target="_blank" rel="external">@TimNew</a>提供的思路</strong></p>
<p>正如大家所知道的，在source文件夹下的所有md文件都会被hexo渲染成html文件，导致<code>README.md</code>文件不能好好的放在里面了，即使是添加了<code>layout: false</code>依然没有用。</p>
<p>不过现在有一个另外的好办法，那就是利用主题的source目录，也就是<code>themes/themes-name/source</code>。因为这个文件夹里面的所有文件都会被复制到网站的根目录中去，也就是说，如果在里面放上<code>README</code>，就可以正常的存在于网站的主目录了。</p>
<p>同样的，对于一些需要在网站下添加html文件的需求也可以这样来达成。比如百度或者谷歌在验证站长权限的时候，通常都会要求在主目录下添加一个html文件。同样的，只要把这个文件放在<code>themes/themes-name/source</code>就可以搞定了。</p>
<h3 id="Hexo3-0以上支持"><a href="#Hexo3-0以上支持" class="headerlink" title="Hexo3.0以上支持"></a>Hexo3.0以上支持</h3><p><strong>使用<code>_config.yml</code>下的<code>skip_render</code>参数。</strong></p>
<p><code>skip_render</code>使用了<a href="https://github.com/isaacs/minimatch" target="_blank" rel="external"><code>minimatch</code></a>，开始匹配的位置是基于你的<code>source_dir</code>的，一般来说，是你的<code>source</code>文件夹下。下面我分别列举几种常见的情况进行说明：</p>
<p><em>请注意yml中的文件格式，输入单个数据请注意空格，输入数组请进行缩进</em></p>
<ol>
<li>单个文件夹下全部文件：<code>skip_render: test/*</code></li>
<li>单个文件夹下指定类型文件：<code>skip_render: test/*.md</code></li>
<li>单个文件夹下全部文件以及子目录:<code>skip_render: test/**</code></li>
<li>多个文件夹以及各种复杂情况：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">skip_render:</span><br><span class="line">    - `test1/*.html`</span><br><span class="line">    - `test2/**`</span><br></pre></td></tr></table></figure>
<h2 id="Hexo版本回退"><a href="#Hexo版本回退" class="headerlink" title="Hexo版本回退"></a>Hexo版本回退</h2><p>有时候更新之后发现新版本的Hexo不能按照预期的方式工作，这时候就需要使用版本回退功能。<br>打开命令行，输入<code>npm install -g hexo@版本号</code>就可以回退到没有出现问题的版本上来。</p>
<p><em>这个命令适用于所有Node.js模块</em></p>
<blockquote>
<p>少数情况下会出现Node.js版本问题，可以使用<code>nvm install 版本号</code>来安装报错信息中需要的版本。</p>
</blockquote>
<p><em>推荐使用nvm来管理Node.js版本</em></p>
<h2 id="如何为站点添加社会化评论"><a href="#如何为站点添加社会化评论" class="headerlink" title="如何为站点添加社会化评论"></a>如何为站点添加社会化评论</h2><h3 id="使用Disque"><a href="#使用Disque" class="headerlink" title="使用Disque"></a>使用Disque</h3><p>Hexo默认支持Disque，打开<code>_config.yml</code>，在<code>disqus_shortname:</code>后面输入自己的Disque账号。保存，重新渲染，清除缓存之后就能看到自己的评论窗口。</p>
<h3 id="使用Duoshuo"><a href="#使用Duoshuo" class="headerlink" title="使用Duoshuo"></a>使用Duoshuo</h3><p>部分主题添加了对多说的支持，只要输入Duoshuo账号，就可以看到效果了。如果主题不支持的话，就需要自己添加。需要对自己的主题结构有一定的了解，不是每一个主题都会有一样的文件，找不到同样的文件也正常，但是都会存在相同功能的区块，自己去定位即可。如果没把握的话，最后做好备份。</p>
<p>在<code>after_footer.ejs</code>模块中输入如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var duoshuoQuery = &#123;short_name:&quot;yourshortname&quot;&#125;;</span><br><span class="line">    (function() &#123;</span><br><span class="line">        var ds = document.createElement(&apos;script&apos;);</span><br><span class="line">        ds.type = &apos;text/javascript&apos;;ds.async = true;</span><br><span class="line">        ds.src = (document.location.protocol == &apos;https:&apos; ? &apos;https:&apos; : &apos;http:&apos;) + &apos;//static.duoshuo.com/embed.js&apos;;</span><br><span class="line">        ds.charset = &apos;UTF-8&apos;;</span><br><span class="line">        (document.getElementsByTagName(&apos;head&apos;)[0]</span><br><span class="line">         || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(ds);</span><br><span class="line">    &#125;)();</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;!-- 多说公共JS代码 end --&gt;</span><br></pre></td></tr></table></figure>
<p>在<code>article.ejs</code>模块中输入如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;% if (page.comments)&#123; %&gt;</span><br><span class="line">        &lt;div class=&quot;ds-thread&quot; data-thread-key=&quot;&lt;%- page.path %&gt;&quot; data-title=&lt;%- page.title %&gt; data-url=&lt;%- page.permalink %&gt;&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<h2 id="如何避免在Deploy时输入密码"><a href="#如何避免在Deploy时输入密码" class="headerlink" title="如何避免在Deploy时输入密码"></a>如何避免在Deploy时输入密码</h2><h3 id="使用Github客户端"><a href="#使用Github客户端" class="headerlink" title="使用Github客户端"></a>使用Github客户端</h3><p>安装好Github客户端之后，使用Github客户端内置的Git Shell进行hexo的部署操作。</p>
<h3 id="自行生成SSH-key"><a href="#自行生成SSH-key" class="headerlink" title="自行生成SSH key"></a>自行生成SSH key</h3><p>使用Github客户端可以免去输入密码操作的原因就是客户端在本地生成了一个SSH key并且添加到了Github网站中。不喜欢使用Github客户端的童鞋可以参考下面的流程自行生成SSH key。<br><a href="http://xuanwo.org/2015/02/07/generate-a-ssh-key/">使用Github SSH Key以免去Hexo部署时输入密码</a></p>
<h2 id="多git部署"><a href="#多git部署" class="headerlink" title="多git部署"></a>多git部署</h2><p>参考<a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="external">hexo-deployer-git</a>插件README进行配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  message: [message]</span><br><span class="line">  repo:</span><br><span class="line">    github: &lt;repository url&gt;,[branch]</span><br><span class="line">    gitcafe: &lt;repository url&gt;,[branch]</span><br></pre></td></tr></table></figure>
<p>请注意每一个冒号后面的空格，如果丢失会导致yml文件读取错误。</p>
<h2 id="开启全站https"><a href="#开启全站https" class="headerlink" title="开启全站https"></a>开启全站https</h2><p>Todo</p>
<h1 id="贡献者"><a href="#贡献者" class="headerlink" title="贡献者"></a>贡献者</h1><ul>
<li><a href="http://xuanwo.org/">@Xuanwo</a></li>
<li><a href="http://timnew.me/" target="_blank" rel="external">@TimNew</a></li>
<li><a href="http://zespia.tw/" target="_blank" rel="external">@tommy351</a></li>
</ul>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2014年08月14日 完成大体框架，内容慢慢填充</li>
<li>2014年08月23日 补充404问题，以及如何在不同电脑（系统）上使用Hexo</li>
<li>2014年09月06日 新增自有域名二级目录无法访问，在主目录下添加md文件</li>
<li>2014年09月09日 新增Hexo版本回退，Hexo所有命令报错。</li>
<li>2014年09月23日 新增Partial没有转义</li>
<li>2014年09月24日 新增添加社会化评论</li>
<li>2015年02月06日 新增本地添加SSH key，修复部分笔误</li>
<li>2015年02月07日 SSH key生成独立成篇</li>
<li>2015年04月01日 添加了部分Hexo3.0带来的问题，新增了<code>skip_render</code>参数设置</li>
<li>2015年04月03日 添加了Hexo3.0中deploy设置</li>
<li>2015年08月09日 添加了多git部署，Mac OS安装出错，更新了<code>skip_render</code>参数设置以及部分文本说明</li>
<li>2015年09月05日 添加了开启全站https以及主题管理，修复了代码显示BUG，删除了部分口水话</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2014/08/14/hexo-usual-problem/">Hexo常见问题解决方案</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2014年8月14日 - 05时08分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2014/08/14/hexo-usual-problem/"
                                            title="Hexo常见问题解决方案">https://xuanwo.org/2014/08/14/hexo-usual-problem/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Hexo/"> #Hexo </a>
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                        <a href="/tags/Software/"> #Software </a>
                    
                </div>
            
        </div>

    </article>



            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2014-07-07T00:38:09+00:00"
                  content="Jul 7 2014">
                Jul 7 2014
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2014/07/07/use-hexo-to-bulid-project-wiki/#disqus_thread" data-disqus-identifier="2014/07/07/use-hexo-to-bulid-project-wiki/">
              <span class="disqus-comment-count" data-disqus-identifier="2014/07/07/use-hexo-to-bulid-project-wiki/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2014/07/07/use-hexo-to-bulid-project-wiki/">使用Hexo构建项目Wiki</a></h2>
        
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>七七事件前一天，我有幸加入了<a href="https://github.com/cugbacm/oj" target="_blank" rel="external">本校OJ2.0</a>项目组。非常高兴能够为我们学校自己的OJ开源项目做出一份贡献，虽然只是一份整理Wiki的小活儿，但是这是我第一次真正的参与一个源项目。经过谨慎考虑之后，我决定项目的Wiki使用Github Pages来构建。</p>
<a id="more"></a>
<h1 id="为什么是Github-Pages？"><a href="#为什么是Github-Pages？" class="headerlink" title="为什么是Github Pages？"></a>为什么是Github Pages？</h1><ul>
<li>免费，无限流量</li>
<li>享受git的版本管理功能，不用担心文章遗失。</li>
<li>你只要用自己喜欢的编辑器写文章就可以了，其他事情一概不用操心，都由github处理。<br><em>以上引用自<a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html" target="_blank" rel="external">阮一峰先生的相关博文</a></em></li>
<li>同Github Wiki一样支持多人协作，但是更加便于查阅，特别是在涉及主题繁杂的时候。</li>
<li>比Github Wiki拥有更大的控制权限，避免Wiki被错误操作。</li>
</ul>
<h1 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h1><h2 id="Hexo的安装与配置"><a href="#Hexo的安装与配置" class="headerlink" title="Hexo的安装与配置"></a>Hexo的安装与配置</h2><h3 id="Windows环境下"><a href="#Windows环境下" class="headerlink" title="Windows环境下"></a>Windows环境下</h3><p>32位地址:<a href="http://nodejs.org/dist/v0.10.29/node-v0.10.29-x86.msi" target="_blank" rel="external">http://nodejs.org/dist/v0.10.29/node-v0.10.29-x86.msi</a><br>64位地址:<a href="http://nodejs.org/dist/v0.10.29/x64/node-v0.10.29-x64.msi" target="_blank" rel="external">http://nodejs.org/dist/v0.10.29/x64/node-v0.10.29-x64.msi</a></p>
<h3 id="Mac-OS环境下"><a href="#Mac-OS环境下" class="headerlink" title="Mac OS环境下"></a>Mac OS环境下</h3><p>安装包地址:<a href="http://nodejs.org/dist/v0.10.29/node-v0.10.29.pkg" target="_blank" rel="external">http://nodejs.org/dist/v0.10.29/node-v0.10.29.pkg</a></p>
<h3 id="Linux环境下"><a href="#Linux环境下" class="headerlink" title="Linux环境下"></a>Linux环境下</h3><p>建议使用<code>nvm</code>来管理nodejs环境</p>
<ol>
<li>打开终端，输入<code>wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</code></li>
<li>重启终端之后,输入<code>nvm ls</code>，则会列出所有的可用版本</li>
<li>输入<code>nvm install 0.10.29</code>（此处以最新版为例）</li>
<li>下面配置nodejs的环境，分别输入<code>nvm use 0.10.29</code>以及<code>nvm alias default 0.10.29</code></li>
</ol>
<h2 id="Git的安装与配置"><a href="#Git的安装与配置" class="headerlink" title="Git的安装与配置"></a>Git的安装与配置</h2><h3 id="Windows环境下-1"><a href="#Windows环境下-1" class="headerlink" title="Windows环境下"></a>Windows环境下</h3><p>不妨使用Github For Windows， 通过添加命令行参数启动环境，无须配置PATH，完全绿色化。（TODO：有待补充）</p>
<h3 id="Mac-OS环境下-1"><a href="#Mac-OS环境下-1" class="headerlink" title="Mac OS环境下"></a>Mac OS环境下</h3><p>同理，使用Github For Mac即可。</p>
<h3 id="Linux环境下-1"><a href="#Linux环境下-1" class="headerlink" title="Linux环境下"></a>Linux环境下</h3><p>Ubuntu, Debian：<code>sudo apt-get install git-core</code><br>Fedora, Red Hat, CentOS：<code>sudo yum install git-core</code></p>
<h3 id="开启SSH，避免重复输入帐号密码"><a href="#开启SSH，避免重复输入帐号密码" class="headerlink" title="开启SSH，避免重复输入帐号密码"></a>开启SSH，避免重复输入帐号密码</h3><p>可以参考<a href="http://xuanwo.org/2015/02/07/generate-a-ssh-key/">此处</a>。</p>
<h1 id="Wiki配置"><a href="#Wiki配置" class="headerlink" title="Wiki配置"></a>Wiki配置</h1><p>感谢<a href="http://www.hahack.com/" target="_blank" rel="external">wzpan</a>开源的主题，其实还是我主动索要的- -，幸好他非常热情地提供了帮助，在此表示衷心的感谢。<br>致谢完毕，下面转入配置的细节。</p>
<ol>
<li>在github上建立一个新的仓库，名为<code>yourname.github.io</code></li>
<li>事先建立好准备存放wiki的文件夹，然后在当前目录下打开终端（或者不停地cd进入），然后输入<code>hexo init</code>，初始化。</li>
<li>然后输入<code>npm install</code>，自动下载相关的依赖包，此时一个最基本的框架已经构建完毕了。</li>
<li>然后输入<code>git clone https://github.com/wzpan/hexo-theme-wixo.git themes/wixo</code>，下载wiki用的主题。</li>
<li>然后修改<code>_config.yml</code>中的<code>theme</code>条目为<code>wixo</code>，注意<code>theme</code>后有一个空格。<br>&gt;<br>补充一下关于<code>deploy</code>的设置<br>同样是在_config.yml文件夹中，修改<code>deploy</code>的部分为</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: github</span><br><span class="line">  repo: repository url //使用之前创建的那个库，建议使用SSH</span><br><span class="line">  branch: branch //Hexo会自动识别个人wiki还是项目wiki</span><br></pre></td></tr></table></figure>
<p></p><p>6. 进入source文件夹，打开_post文件夹，新建一个md文档，在文档的开头加入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: your title //这将会是wiki文档的标题</span><br><span class="line">date: 2014-03-16 10:17:16  //构建时间，wiki中用不到</span><br><span class="line">categories: Docs //这将会是本文档所属的类别</span><br><span class="line">toc: true //默认开启，生成table of contents</span><br><span class="line">--- //不可省略，敲回车后，下面的内容就自由发挥了～</span><br></pre></td></tr></table></figure>
<p></p><p>7. 保存文档后，返回wiki所在文件夹， 输入<code>hexo d -g</code>，此时wiki已经自动生成并上传完毕了。</p>
<h1 id="协作注意事项"><a href="#协作注意事项" class="headerlink" title="协作注意事项"></a>协作注意事项</h1><h2 id="项目创建者"><a href="#项目创建者" class="headerlink" title="项目创建者"></a>项目创建者</h2><p>按照上述设置，<code>wiki</code>默认保存在<code>yourname.github.io</code>的<code>master</code>分支下。建议另外开启一个<code>source</code>分支，用来将整个wiki文件夹上传，方便多地编辑以及同步协作。<br>&gt;<br>一开始可能会发现wiki文件夹不能使用git管理，这是因为主题wixo是使用git管理的。所以在上传wiki文件夹之前，要删除位于wixo文件夹下的.git文件夹。</p>
<h2 id="项目参与者"><a href="#项目参与者" class="headerlink" title="项目参与者"></a>项目参与者</h2><p>让项目创建者在项目的settings中的Collaborators栏目中输入自己的用户名，即可获得对这个项目的控制权。<br>环境配置完毕后，fork<code>source</code>分支，即可开始编辑工作。根据<code>.gitignore</code>文件的不同，可能还需要进行<code>npm install</code>以解决依赖问题。</p>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2014年07月07日 完成<code>前言</code>和<code>为什么</code>板块</li>
<li>2014年07月24日 完成<code>前期准备</code>和<code>Wiki配置</code>以及<code>注意事项</code>版块，接下来完成免PATH配置的详细步骤以及SSH的配置。此外发现步骤有些混杂不清，下一个版本中将进行修正。</li>
<li>2015年04月01日 添加了SSH配置。</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2014/07/07/use-hexo-to-bulid-project-wiki/">使用Hexo构建项目Wiki</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2014年7月7日 - 00时07分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2014/07/07/use-hexo-to-bulid-project-wiki/"
                                            title="使用Hexo构建项目Wiki">https://xuanwo.org/2014/07/07/use-hexo-to-bulid-project-wiki/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                        <a href="/tags/Software/"> #Software </a>
                    
                        <a href="/tags/Windows/"> #Windows </a>
                    
                        <a href="/tags/Wiki/"> #Wiki </a>
                    
                </div>
            
        </div>

    </article>



            
                
    <article class="clearfix">
        <div class="post-date">
            发表于
            <time datetime="2014-06-11T14:00:00+00:00"
                  content="Jun 11 2014">
                Jun 11 2014
            </time>
            &nbsp;|&nbsp;分类于
            
                
                    <a href="/categories/Opinion/" rel="index">
                        Opinion
                        
                        
                    </a>
                
            
            <span>
            <a href="/2014/06/11/new-way-blog-spring/#disqus_thread" data-disqus-identifier="2014/06/11/new-way-blog-spring/">
              <span class="disqus-comment-count" data-disqus-identifier="2014/06/11/new-way-blog-spring/"></span>
            </a>
          </span>
        </div>
        <h2><a href="/2014/06/11/new-way-blog-spring/">使用Github Pages做博客的新思路——Spring</a></h2>
        
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>很久之前就有了想要有一个自己的博客的想法，一直没有付诸于实施。整个初中到高中基本上就是在使用一个半死不活的CSDN博客，更新不多，质量不高，还有点嫌弃它丑陋，定制性不佳的界面。<br>前两天队长要求我们每个人都必须开通一个博客，于是，我终于开始腾出精力和时间去寻找一个合适的地方来做我的博客。现有的一些博客提供商都被否决了，网易搜狐腾讯之类的并不是适合一个程序猿，文章写出来也得不到反馈与交流，失去了它的意义。随着搜索的进行，Github Pages开始频繁的出现在页面上。之前一直在用Github，但是对它的Pages业务并不了解。根据一些教程（感谢<a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html" target="_blank" rel="external">阮一峰先生的博客</a>），我先后使用了<code>Hexo</code>，<code>Jekyll</code>，<code>Octopress</code>等生成网站。网站的风格我很喜欢，只是不停地纠结于怎样的配置更好的问题，反而加重了我自己的负担。<br>无意之间，我看到了@zhaoda的博客，使用自己开发的<code>Spring</code>项目，通过抓取项目的<code>issues</code>来撰写博客，效果出奇的好。使用Github自带的<code>lables</code>进行标签管理，<code>issues</code>的评论功能直接可以当做文章的评论区，操作简单，无需复杂配置，完全符合我的要求。</p>
<h2 id=""><a href="#" class="headerlink" title=""></a><a id="more"></a></h2><h1 id="作者本人的介绍"><a href="#作者本人的介绍" class="headerlink" title="作者本人的介绍"></a>作者本人的介绍</h1><p>Spring是一个通过GitHub Issues撰写内容的博客引擎，或者说是一个简单、静态化的建站系统。不需要服务器和数据库支持，你可以把它作为一个GitHub代码仓库，并托管在免费的GitHub Pages上运行，然后在这个仓库的Issues系统里撰写日志。<br>你可以在这个仓库的Issues系统里添加labels标签，这些标签会成为博客的分类，然后新建Issues，并用Markdown语法写日志。<br>Spring拥有响应式的页面设计，可以在手机、平板和桌面端完美展现；支持IE10+和所有现代浏览器，底端设备做了跳转的降级处理。<br>你可以快速的安装并运行这个系统。</p>
<h1 id="构建步骤"><a href="#构建步骤" class="headerlink" title="构建步骤"></a>构建步骤</h1><p>接下来，我简单介绍一下如何应用Spring来构建自己的博客。</p>
<ol>
<li>Fork仓库<a href="https://github.com/zhaoda/spring" target="_blank" rel="external">Spring</a></li>
<li>修改仓库名称为<code>yourname.github.io</code></li>
<li>修改<code>index.html</code>文件（可以在Github网页端修改好之后再同步到本地）</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$.extend(spring.config, &#123;</span><br><span class="line">// my blog title</span><br><span class="line">---</span><br><span class="line">title: &apos;Your Blog title&apos;,</span><br><span class="line">// my blog description</span><br><span class="line">desc: &quot;A blog engine written by github issues [Fork me on GitHub](https://github.com/zhaoda/spring)&quot;,</span><br><span class="line">// my github username</span><br><span class="line">owner: &apos;Your Github username&apos;,</span><br><span class="line">// creator&apos;s username</span><br><span class="line">creator: &apos;Your Github username&apos;,</span><br><span class="line">// the repository name on github for writting issues</span><br><span class="line">repo: &apos;yourname.github.io&apos;,</span><br><span class="line">// custom page</span><br><span class="line">pages: [</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在设置页面中打开<code>Issues</code>功能，开始写你的博客吧～</p>
<h1 id="添加百度统计代码"><a href="#添加百度统计代码" class="headerlink" title="添加百度统计代码"></a>添加百度统计代码</h1><p>复制百度提供的代码，粘贴到<code>index.html</code>中<code>&lt;body&gt;</code>与<code>&lt;\body&gt;</code>之间即可。<br>添加完毕后，可以在百度统计中选择<code>检测代码</code>来测试自己的代码是否安装成功。<br>其他统计代码也是一样。</p>
<h1 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h1><ul>
<li>2014年06月11日  完成初稿</li>
<li>2014年06月12日  完成添加百度统计代码教程</li>
<li>2014年07月03日  整体博客迁移至Hexo，此文不再更新</li>
</ul>

        
        <div class="post-footer">
            
                <div id="eof" class="print-invisible">
                    <hr class="eof">
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/dachui.jpg" title="微信扫一扫，获取新文章推送" class="fancybox" style="display:block" ;><img
                                alt="微信扫一扫，获取新文章推送" style="display:inline-block;" src="/imgs/dachui.jpg"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，获取新文章推送
          </span>
                </div>
                <div style="float:left;width:50%;text-align:center;margin-bottom:40px;">
                    <a href="/imgs/wechat.png" title="微信扫一扫，请博主喝咖啡" class="fancybox" style="display:block;"><img
                                alt="微信扫一扫，请博主喝咖啡" style="display:inline-block;" src="/imgs/wechat.png"></a>
          <span class="caption" style="color: #999;display: inline-block;font-size: .9em;text-align: center;">
              微信扫一扫，请博主喝咖啡
          </span>
                </div>
                <div class="copyright" style="clear:both;">
                    <p><span>本文标题:</span><a href="/2014/06/11/new-way-blog-spring/">使用Github Pages做博客的新思路——Spring</a></p>
                    <p><span>文章作者:</span><a href="/" title="访问 Xuanwo 的个人博客">Xuanwo</a></p>
                    <p><span>发布时间:</span>2014年6月11日 - 14时06分</p>
                    <p><span>最后更新:</span>2016年6月21日 - 17时06分</p>
                    <p><span>原始链接:</span><a href="/2014/06/11/new-way-blog-spring/"
                                            title="使用Github Pages做博客的新思路——Spring">https://xuanwo.org/2014/06/11/new-way-blog-spring/</a></p>
                    <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license"
                                                                                   href="http://creativecommons.org/licenses/by-nc/4.0/"
                                                                                   title="Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)">Attribution-NonCommercial
                            4.0</a></p>
                    <p><span>转载请保留以上信息。</span></p>
                </div>
            
            
                <div class="post-tags">
                    
                        <a href="/tags/Github-Pages/"> #Github-Pages </a>
                    
                        <a href="/tags/Blog/"> #Blog </a>
                    
                        <a href="/tags/JavaScript/"> #JavaScript </a>
                    
                </div>
            
        </div>

    </article>



            
            
        </div>
    </div>

    </div>
    <footer>
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-2 col-md-2 footer-widget">
                    <h3>Statistics</h3>

                    <span>No BB, just do it!</span>

                    <div class="stats">
                        <div class="line">
                            <span class="counter">392</span>
                            <span class="caption">Articles</span>
                        </div>
                        <div class="line">
                            <span class="counter">7</span>
                            <span class="caption">Categories</span>
                        </div>
                        <div class="line">
                            <span class="counter">60</span>
                            <span class="caption">Tags</span>
                        </div>
                    </div>
                </div>

                <div class="col-sm-4 col-md-4 footer-widget">
                    <h3>Recent posts</h3>
                    <div class="post-recent-widget">
                        <div class="row">
                            <div class="col-sm-12">
                                <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/06/16/jade_ims/">马可波罗珠宝进销存系统开发手记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/03/owncloud-on-qingcloud/">在QingCloud上部署弹性扩容的OwnCloud</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/29/learn-from-qingchat/">我从Qingchat中学到的教训</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/09/msp430g2553-bellring/">基于MSP430G2553的打铃系统开发手记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/13/gitlab-install-intro/">Gitlab部署和汉化以及简单运维</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/04/docopt-intro/">docopt——好用的Python命令行参数解释器</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/01/qingchat-intro/">微信多群直播的新探索——Qingchat</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/13/gout/">罹患痛风感言</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/12/neovim-slow-upgrade/">Neovim慢速升级攻略</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/28/wechat-remove/">微信群重复人员识别</a></li></ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-md-6 footer-widget clearfix">
                    <h3>Tags</h3>
                    <ul class="tags">
                        
                            <li><a href="/tags/Google/">Google</a></li>
                        
                            <li><a href="/tags/CloudFlare/">CloudFlare</a></li>
                        
                            <li><a href="/tags/FuckWall/">FuckWall</a></li>
                        
                            <li><a href="/tags/PHP/">PHP</a></li>
                        
                            <li><a href="/tags/Web/">Web</a></li>
                        
                            <li><a href="/tags/Event/">Event</a></li>
                        
                            <li><a href="/tags/Github/">Github</a></li>
                        
                            <li><a href="/tags/CI/">CI</a></li>
                        
                            <li><a href="/tags/阅读/">阅读</a></li>
                        
                            <li><a href="/tags/Markdown/">Markdown</a></li>
                        
                            <li><a href="/tags/Hexo/">Hexo</a></li>
                        
                            <li><a href="/tags/Github-Pages/">Github-Pages</a></li>
                        
                            <li><a href="/tags/Blog/">Blog</a></li>
                        
                            <li><a href="/tags/VPS/">VPS</a></li>
                        
                            <li><a href="/tags/Software/">Software</a></li>
                        
                            <li><a href="/tags/Read/">Read</a></li>
                        
                            <li><a href="/tags/Windows/">Windows</a></li>
                        
                            <li><a href="/tags/Android/">Android</a></li>
                        
                            <li><a href="/tags/C/">C</a></li>
                        
                            <li><a href="/tags/Database/">Database</a></li>
                        
                            <li><a href="/tags/复习/">复习</a></li>
                        
                            <li><a href="/tags/Nodejs/">Nodejs</a></li>
                        
                            <li><a href="/tags/python/">python</a></li>
                        
                            <li><a href="/tags/qingchat/">qingchat</a></li>
                        
                            <li><a href="/tags/运维/">运维</a></li>
                        
                            <li><a href="/tags/CUGBLUG/">CUGBLUG</a></li>
                        
                            <li><a href="/tags/Gitlab/">Gitlab</a></li>
                        
                            <li><a href="/tags/科普/">科普</a></li>
                        
                            <li><a href="/tags/Information/">Information</a></li>
                        
                            <li><a href="/tags/CUGB/">CUGB</a></li>
                        
                            <li><a href="/tags/项目/">项目</a></li>
                        
                            <li><a href="/tags/Python/">Python</a></li>
                        
                            <li><a href="/tags/Flask/">Flask</a></li>
                        
                            <li><a href="/tags/HTML/">HTML</a></li>
                        
                            <li><a href="/tags/JavaScript/">JavaScript</a></li>
                        
                            <li><a href="/tags/实习/">实习</a></li>
                        
                            <li><a href="/tags/QingCloud/">QingCloud</a></li>
                        
                            <li><a href="/tags/单片机/">单片机</a></li>
                        
                            <li><a href="/tags/Work/">Work</a></li>
                        
                            <li><a href="/tags/爬虫/">爬虫</a></li>
                        
                            <li><a href="/tags/Hardware/">Hardware</a></li>
                        
                            <li><a href="/tags/vim/">vim</a></li>
                        
                            <li><a href="/tags/Video/">Video</a></li>
                        
                            <li><a href="/tags/JSON/">JSON</a></li>
                        
                            <li><a href="/tags/字符串/">字符串</a></li>
                        
                            <li><a href="/tags/Linux/">Linux</a></li>
                        
                            <li><a href="/tags/SSH/">SSH</a></li>
                        
                            <li><a href="/tags/Together/">Together</a></li>
                        
                            <li><a href="/tags/虚拟化/">虚拟化</a></li>
                        
                            <li><a href="/tags/协作/">协作</a></li>
                        
                            <li><a href="/tags/Ubuntu/">Ubuntu</a></li>
                        
                            <li><a href="/tags/翻译/">翻译</a></li>
                        
                            <li><a href="/tags/Wiki/">Wiki</a></li>
                        
                            <li><a href="/tags/Develop/">Develop</a></li>
                        
                            <li><a href="/tags/Mac/">Mac</a></li>
                        
                            <li><a href="/tags/Oracle/">Oracle</a></li>
                        
                            <li><a href="/tags/VB/">VB</a></li>
                        
                            <li><a href="/tags/微信/">微信</a></li>
                        
                            <li><a href="/tags/Sports/">Sports</a></li>
                        
                            <li><a href="/tags/Games/">Games</a></li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright">
        <div class="container">
            <p class="pull-left">Designed by <a href="http://xuanwo.org">Xuanwo.</a> Powered by <a
                        href="https://hexo.io">Hexo.</a></p>
            <ul class="social-links pull-right">
                <li><a href="https://twitter.com/OnlyXuanwo"><i class="fa fa-twitter"></i></a></li>
                <li><a href="https://www.facebook.com/onlyxuanwo"><i class="fa fa-facebook"></i></a></li>
                <li><a href="https://plus.google.com/u/0/116093463258836167644"><i class="fa fa-google-plus"></i></a>
                </li>
            </ul>
        </div>
    </div>
</footer>

<script type="text/javascript" src="/dist/js/jquery.min.js"></script>
<script type="text/javascript" src="/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/dist/js/wow.min.js"></script>
<script type="text/javascript" src="/dist/js/custom.js"></script>
<script id="dsq-count-scr" src="//only0god.disqus.com/count.js" async></script>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-51515330-1', 'auto');
    ga('send', 'pageview');
</script>
</div>
<script type="text/javascript">
    $("img").addClass("img-responsive");
</script>
</body>
</html>