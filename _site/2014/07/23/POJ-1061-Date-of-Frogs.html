<p>﻿—
layout: post
title: POJ 1061 青蛙的约会
date: 2014-07-23 13:49:00
categories: Exercise
toc: true
—</p>
<h1 id="section">题目</h1>
<p>源地址：</p>

<p>http://poj.org/problem?id=1061</p>

<h1 id="section-1">理解</h1>
<p>扩展欧几里德方程的模板体。当初没有做出来，现在好像明白一点了。</p>

<!-- more -->

<h1 id="get">新技能get</h1>
<p><code class="highlighter-rouge">扩展欧几里德方程</code>解法</p>
<blockquote>

  <p>设标准方程式为： a<em>x +b</em>y =d   (a,b已知)</p>
  <ol>
    <li>首先求出gcd(a,b) ，然后化简方程，使得a/=gcd(a,b); b/=gcd(a,b); d/=gcd(a,b);</li>
    <li>先求出 a<em>x+b</em>y=gcd(a,b) 的一组特解，也就是方程 a<em>x+b</em>y=1 的一个特解。然后将特解（x0, y0） 代入方程，并变形： a* x0 <em>d + b</em> y0 *d= d</li>
    <li>根据解系的 公式： x =x1 + b* t ; y =y1 - a <em>t; 我们首先假设他最小的解x=0 ，然后求出 此时的 t=-x1/b; 然后带入求最小的解x=x1+b</em>t=x1 - b*t ;因为此时的t为 负数， 减去他的 负数，就是等于加上他。</li>
  </ol>
</blockquote>

<h1 id="section-2">代码</h1>

<div class="highlighter-rouge"><pre class="highlight"><code>#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;cstdio&gt;
using namespace std;


long long x, y, m, n, l;
long long a, b, d, k, s, t;

long long gcd(long long a, long long b)
{
    long long c;
    if (a &lt; b)
    {
        c = a;    a = b;
        b = c;
    }
    while (b)
    {
        c = b;
        b = a % b;
        a = c;
    }
    return a;
}

long long extended_gcd(long long a, long long b, long long &amp;x, long long &amp;y)
{
    long long ans, t;
    if (b == 0)
    {
        x = 1;    y = 0;
        return a;
    }
    else
    {
        ans = extended_gcd(b, a % b, x, y);
        t = x;    x = y;
        y = t - (a / b) * y;
    }
    return ans;
}

int main(int argc, char const *argv[])
{
    while (scanf("%lld %lld %lld %lld %lld", &amp;x, &amp;y, &amp;m, &amp;n, &amp;l) != EOF)
    {
        a = n - m;
        b = l;
        d = x - y;
        long long r = gcd(a, b);
        if (d % r != 0)
        {
            printf("Impossible\n");
            continue;
        }
        a /= r;
        b /= r;
        d /= r;
        extended_gcd(a, b, s, k);
        s = s * d;
        k = k * d;
        t = s / b;
        s = s - t * b;
        if (s &lt; 0)
            s += b;
        printf("%lld\n", s);
    }
    return 0;
}

</code></pre>
</div>

<h1 id="section-3">更新日志</h1>
<ul>
  <li>2014年07月23日 已AC。</li>
</ul>
