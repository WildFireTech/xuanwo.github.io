<p>﻿—
layout: post
title: POJ 2800 Joseph’s Problem
date: 2014-07-15 20:41:42
categories: Exercise
toc: true
—</p>
<h1 id="section">题目</h1>
<p>源地址：</p>

<p>http://poj.org/problem?id=2800</p>

<h1 id="section-1">理解</h1>
<p>抱着侥幸心理使用了一般的方法来求，果然TLE了。然后开始计算∑1&lt;=i&lt;=n(k mod i)。由分析之，总共有三种情况，k&lt;n，k=n，k&gt;n。分别寻找规律并转化为等差数列简化运算。</p>

<!-- more -->

<h1 id="section-2">代码</h1>

<div class="highlighter-rouge"><pre class="highlight"><code>#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
using namespace  std;

long long jos( long long n , long long k )
{
    long long sum = 0 , a = ( long long  )  sqrt ( k ), b = k / a , i ;
    if ( n &gt; k ) sum += ( n - k ) * k ;
    for ( i = a ; i &gt; 1 ; i -- )
    {
        long long s = k / i , e = k / ( i - 1 ) ;
        if ( s &gt; n ) break ;
        if ( e &gt; n ) e = n ;
        sum += ( k % e + k % ( s + 1 ) ) * ( e - s ) / 2 ;
    }
    for ( i = 1 ; i &lt;= n &amp;&amp; i &lt;= b ; i ++ ) sum += k % i ;
    return sum ;
}

int main(int argc, char const *argv[])
{
    long long n , k ;
    while ( scanf ( "%I64d%I64d", &amp;n, &amp;k ) != EOF )
        printf ( "%I64d\n" , jos(n, k) ) ;
    return 0 ;
}

</code></pre>
</div>

<h1 id="section-3">更新日志</h1>
<ul>
  <li>2014年07月15日 已AC。</li>
</ul>
