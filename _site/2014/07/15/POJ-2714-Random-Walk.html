<p>﻿—
layout: post
title: POJ 2714 Random Walk
date: 2014-07-15 15:55:21
categories: Exercise
toc: true
—</p>
<h1 id="section">题目</h1>
<p>源地址：</p>

<p>http://poj.org/problem?id=2714</p>

<h1 id="section-1">理解</h1>
<p>一开始以为只是一道简单的求解最远距离的题目，但是敲完代码之后发现前两个样例过了，最后一个样例数据差距很大。然后仔细读题才发现，题目中给定的正负是不定的= =。一时间没有思路，以为需要使用DP的思想，然后去看了<code class="highlighter-rouge">discuss</code>，才明白用枚举的方法列出每一个向量，减少了很大的复杂度，使得问题能在1s之内解决。</p>

<!-- more -->

<h1 id="get">新技能get</h1>
<p><a href="http://www.cplusplus.com/doc/boolean/">位运算</a>
下面列出一张简表
<img src="/imgs/exercise/%E4%BD%8D%E8%BF%90%E7%AE%97.jpg" alt="位运算简表" />
注意区分位运算<code class="highlighter-rouge">~</code>与逻辑运算<code class="highlighter-rouge">!</code>的区别。</p>

<h1 id="section-2">代码</h1>

<div class="highlighter-rouge"><pre class="highlight"><code>#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;algorithm&gt;
#include&lt;cmath&gt;
#include&lt;cstring&gt;
using namespace std;
const int N = 105;
double mx, my, cx, cy;

struct V
{
    double x, y;
    bool operator &lt; (const V &amp;a) const
    {
        double t = atan2(y, x);
        double at = atan2(a.y, a.x);
        return t &lt; at;
    }
} v[N &lt;&lt; 1];

int main(int argc, char const *argv[])
{
    int n, i, ci, end;
    double x, y;
    while (~scanf("%d", &amp;n) &amp;&amp; n)
    {
        for (i = 0; i &lt; n; i++)
        {
            scanf("%lf%lf", &amp;x, &amp;y);
            v[i &lt;&lt; 1].x = x;
            v[i &lt;&lt; 1].y = y;
            v[i &lt;&lt; 1 | 1].x = -x;
            v[i &lt;&lt; 1 | 1].y = -y;
        }
        sort(v, v + (n &lt;&lt; 1));
        cx = cy = 0;
        for (i = 0; i &lt; n; i++)
        {
            cx += v[i].x;
            cy += v[i].y;
        }
        mx = cx; my = cy;
        for (i = 0, end = n &lt;&lt; 1; i &lt; end; i++)
        {
            ci = (i + n) % end;
            cx += v[ci].x - v[i].x;
            cy += v[ci].y - v[i].y;
            if (cx * cx + cy * cy &gt; mx * mx + my * my)
                mx = cx, my = cy;
        }
        printf("Maximum distance = %.3f meters.\n", sqrt((double)mx * mx + my * my));
    }
    return 0;
}


</code></pre>
</div>

<h1 id="section-3">更新日志</h1>
<ul>
  <li>2014年07月15日 已AC。</li>
</ul>
