<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Hexo常见问题解决方案</title>
  <meta name="description" content="介绍 Hexo是一个非常好用的静态博客生成器，但是由于很多方面的原因，导致在使用过程中经常出现错误。这些错误中，有些是因为自己的设置不当，导致程序报错；有些是因为版本更迭，导致原有的设置失效；而有些，则是Hexo程序本身的BUG。 本文旨在尽可能的解决前两类问题，缓解Hexo项目大量重复issues的现象。当然，...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://xuanwo.org/2014/08/14/hexo-usual-problem">
  <link rel="alternate" type="application/rss+xml" title="Xuanwo&#39;s Blog" href="/feed.xml">
  
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51515330-1', 'auto');
  ga('send', 'pageview');

</script>
  

  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <a class="site-title" href="/">Xuanwo&#39;s Blog</a>

    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Hexo常见问题解决方案</h1>
    <p class="post-meta"><time datetime="2014-08-14T13:20:00+08:00" itemprop="datePublished">Aug 14, 2014</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1 id="section">介绍</h1>
<p>Hexo是一个非常好用的静态博客生成器，但是由于很多方面的原因，导致在使用过程中经常出现错误。这些错误中，有些是因为自己的设置不当，导致程序报错；有些是因为版本更迭，导致原有的设置失效；而有些，则是Hexo程序本身的BUG。
本文旨在尽可能的解决前两类问题，缓解Hexo项目大量重复issues的现象。当然，我个人的力量是有限的，因此也希望使用Hexo的大家也能一起行动起来，通过<a href="https://github.com/Xuanwo/xuanwo.github.io/pulls">提交PR</a>，<a href="https://github.com/Xuanwo/xuanwo.github.io/issues">发布issues</a>或者在下方评论等形式参与到本文档的编辑中来。
同时，也希望有能力的人可以将本文档翻译成英文，以帮助到更多的人。
浏览时，使用<code class="highlighter-rouge">Ctrl+F</code>搜索关键词或使用目录来定位问题。</p>

<p><strong>本文欢迎转载，但是恳请保留贡献者信息，谢谢。</strong></p>

<!-- more -->

<hr />

<h1 id="section-1">常见错误</h1>

<h2 id="deploy">本地浏览没问题，Deploy报错</h2>

<h3 id="git">Git环境配置错误</h3>

<p><strong>问题描述：</strong></p>

<p><em>Windows系统</em>出现报错信息如下</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
[info] Start deploying: git
[info] Setting up Git deployment...
[error] Error: spawn ENOENT
Error: spawn ENOENT
    at errnoException (child_process.js:1000:11)
    at Process.ChildProcess._handle.onexit (child_process.js:791:34)

events.js:72
        throw er; // Unhandled 'error' event
              ^
Error: spawn ENOENT
    at errnoException (child_process.js:1000:11)
    at Process.ChildProcess._handle.onexit (child_process.js:791:34)

</code></pre>
</div>

<p><strong>解决方案：</strong></p>

<p>检查Git的相关配置，将git所在目录添加到系统path中去。</p>

<h3 id="deploy-1">Deploy设置错误</h3>

<p><strong>问题描述：</strong></p>

<p>输入<code class="highlighter-rouge">hexo deploy</code>后，出现错误信息：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
'github' does not appear to be a git repository

</code></pre>
</div>

<p><strong>解决方案：</strong></p>

<ol>
  <li>检查<code class="highlighter-rouge">_config.yml</code>中deploy设置。参见<a href="http://hexo.io/docs/deployment.html">http://hexo.io/docs/deployment.html</a>。</li>
  <li>删除<code class="highlighter-rouge">.deploy_git</code>文件夹并且执行<code class="highlighter-rouge">hexo clean</code>后，重新<code class="highlighter-rouge">hexo deploy</code>。</li>
</ol>

<h2 id="deploy404">Deploy之后，页面长时间404</h2>

<p><strong>问题描述：</strong></p>

<p><img src="/imgs/opinion/Github-404.png" alt="Github 404 孩子不哭" /></p>

<p><strong>解决方案：</strong></p>

<h3 id="github-pages">检查Github Pages类型</h3>

<p><strong>个人主页</strong></p>

<p>也就是库的名称为<code class="highlighter-rouge">yourname.github.io</code>的主页，页面文件应当在master分支下，文件结构可以参考<a href="https://github.com/Xuanwo/xuanwo.github.io/tree/master">我的主页</a>，也就是应当以HTML文件为主，是没有Markdown文件的。</p>

<p><strong>项目主页</strong></p>

<p>也就是库名不是<code class="highlighter-rouge">yourname.github.io</code>的主页，页面文件应当在<code class="highlighter-rouge">gh-pages</code>分支下，文件结构与个人主页基本一致，同样没有Markdown文件。</p>

<h3 id="github">检查Github验证邮件</h3>
<p>曾经出现过所有操作都没有问题但就是404的状况，新创建的用户最好都去看看是不是验证邮件没有通过。</p>

<h3 id="section-2">注意库的名字</h3>
<p>现在大多改成<code class="highlighter-rouge">.io</code>结尾域名了，但是不确定是不是真的跟这个有关，最好改成<code class="highlighter-rouge">.io</code>。</p>

<h2 id="section-3">自有域名二级目录无法访问</h2>

<p><strong>问题描述</strong>
<a href="https://github.com/hexojs/hexo/issues/820">参见issue820</a></p>

<p><strong>问题分析</strong></p>

<p>问题出在CNAME跳转，下面附上我的分析，如果不感兴趣可以直接翻到解决方案。</p>

<blockquote>

  <p>如果没有CNAME跳转，访问<code class="highlighter-rouge">yourname.github.io/repo</code>会自动地去访问gh-pages分支下的静态文件。
但是一旦进行了CNAME跳转，访问<code class="highlighter-rouge">yourname.github.io/repo</code>就会自动跳转为<code class="highlighter-rouge">yoursite.com/repo</code>，显然在你的博客目录下是没有这个文件夹的，所以自然而然的会出现访问404错误。</p>
</blockquote>

<p><strong>解决方案</strong></p>

<p><em>增加一个新的DNS记录</em></p>

<p>修改自己域名的DNS记录，增加一条记录（A记录或者CNAME都可以，指向github），内容是<code class="highlighter-rouge">repo.yoursite.com</code>，访问时通过<code class="highlighter-rouge">repo.yoursite.com</code>来访问。</p>

<p><em>将这个库移动到博客目录下</em></p>

<p>按照上述的分析，把这个库的repo移动至博客目录下即可。注意修改html以免被hexo再次渲染，还有如果是直接复制或者clone，注意删除隐藏的<code class="highlighter-rouge">.git</code>文件夹。</p>

<h2 id="hexo">Hexo命令失效</h2>

<p><strong>问题描述：</strong></p>

<p>输入命令后出现如下信息：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
localhost:~ apple$ hexo new "title"
Usage: hexo

Commands:
help Get help on a command
init Create a new Hexo folder
migrate Migrate your site from other system to Hexo
version Display version information

Global Options:
--debug Display all verbose messages in the terminal
--safe Disable all plugins and scripts

For more help, you can use hexo help [command] for the detailed information
or you can check the docs: http://zespia.tw/hexo/docs/

</code></pre>
</div>

<p><strong>解决方案：</strong></p>

<ol>
  <li>检查<code class="highlighter-rouge">_config.yml</code>中的内容，特别注意<code class="highlighter-rouge">:</code>后面需要有一个空格。</li>
  <li>检查`package.json’中的内容，注意添加hexo信息用来标识这是一个hexo目录：</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"hexo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
</div>

<ol>
  <li>如果还是有问题，可以更新hexo之后，在新的文件夹中重新进行<code class="highlighter-rouge">hexo init</code>。</li>
</ol>

<h2 id="hexo-1">Hexo所有命令报错</h2>

<p><strong>问题描述：</strong></p>

<p><a href="https://github.com/hexojs/hexo/issues/832">参见Issues</a>
报错信息如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
[error] { name: 'HexoError',
  reason: 'end of the stream or a document separator is expected',
  mark:
   { name: null,
     buffer: '# Hexo Configuration\n## Docs: http://hexo.io/docs/configuration.html\n## Source: https://github.com/tommy351/hexo/\n\n# Site\ntitle: 2hu\nsubtitle:\ndescription: 2hu\nauthor: @2hu10n92hen9\nemail:\nlanguage:\n\n# URL\n## If your site is put in a subdirectory, set url as \'http://yoursite.com/child\' and root as \'/child/\'\nurl: http://2hu.me\nroot: /\npermalink: :year/:month/:day/:title/\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\n\n# Directory\nsource_dir: source\npublic_dir: public\n\n# Writing\nnew_post_name: :year-:month-:day-:title.md # File name of new posts\ndefault_layout: post\nauto_spacing: false # Add spaces between asian characters and western characters\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nmax_open_file: 100\nmulti_thread: true\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: false\nhighlight:\n  enable: true\n  line_number: true\n  tab_replace:\n\n# Category &amp; Tag\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Archives\n## 2: Enable pagination\n## 1: Disable pagination\n## 0: Fully Disable\narchive: 2\ncategory: 2\ntag: 2\n\n# Server\n## Hexo uses Connect as a server\n## You can customize the logger format as defined in\n## http://www.senchalabs.org/connect/logger.html\nport: 4000\nserver_ip: 0.0.0.0\nlogger: false\nlogger_format:\n\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: MMM D YYYY\ntime_format: H:mm:ss\n\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 10\npagination_dir: page\n\n# Disqus\ndisqus_shortname: 2hu\n\n# Extensions\n## Plugins: https://github.com/tommy351/hexo/wiki/Plugins\n## Themes: https://github.com/tommy351/hexo/wiki/Themes\ntheme: strict\nexclude_generator:\n\n# Deployment\n## Docs: http://hexo.io/docs/deployment.html\ndeploy:\n  type: github\n  repository: https://github.com/zhulongzheng/zhulongzheng.github.io.git\n  branch: master\n\u0000',
     position: 168,
     line: 8,
     column: 8 },
  message: 'Config file load failed',
  domain:
   { domain: null,
     _events: { error: [Function] },
     _maxListeners: 10,
     members: [ [Object] ] },
  domainThrown: true,
  stack: undefined }

</code></pre>
</div>

<p><strong>解决方案：</strong>
仔细检查<code class="highlighter-rouge">_config.yml</code>文件中所有冒号后面的空格，格式很严格，必须是<strong>只有一个</strong>，<strong>半角</strong>。不管是多了还是少了都会报错，这是yml解释器所定义的语法。如果不确定的话，将输入法调整到英文模式，删除所有冒号后面的空格重新输入，不要使用Tab。</p>

<h2 id="x">更新至2.8.X版本后，构建失败</h2>

<p><strong>问题描述：</strong>
输入<code class="highlighter-rouge">hexo g</code>后，报错如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
[error] { name: 'HexoError',
  reason: 'incomplete explicit mapping pair; a key node is missed',
  mark:
   { name: null,
     buffer: 'categories: Categories\nsearch: Search\ntags: Tags\ntagcloud: Tag Cloud\ntweets: Tweets\nprev: Prev\nnext:
 Next\ncomment: Comments\narchive_a: Archives\narchive_b: Archives: %s\npage: Page %d\nrecent_posts: Recent Posts\ndescr
iption: Description\nread_more: Read More\n\u0000',
     position: 163,
     line: 9,
     column: 19 },
  message: 'Process failed: languages/default.yml',
  domain:
   { domain: null,
     _events: { error: [Function] },
     _maxListeners: 10,
     members: [ [Object] ] },
  domainThrown: true,
  stack: undefined }

</code></pre>
</div>

<p><strong>解决方案：</strong></p>

<p>主题目录下所有yml文件中所有有空格的字段都用双引号括起来，尤其注意languages下面的yml文件。
<img src="/imgs/opinion/hexo-languages-error.png" alt="就像这样" />
<em>感谢<a href="https://github.com/dukewan">@dukewan</a>提供的截图</em></p>

<h2 id="section-4">修改主题文件之后，网页不更新</h2>

<p><strong>问题描述：</strong></p>

<p>在修改主题文件之后，页面的文件依然没有更新。</p>

<p><strong>解决方案：</strong></p>

<p><code class="highlighter-rouge">hexo clean</code>并且删除<code class="highlighter-rouge">.deploy_git</code>文件夹之后，<code class="highlighter-rouge">hexo d -g</code>。为了强制浏览器更新资源文件，可以采用’Ctrl+F5’来刷新。</p>

<h2 id="partial">页面没有渲染（partial转义失败）</h2>

<p><strong>问题描述：</strong></p>

<p><a href="https://github.com/hexojs/hexo/issues/838">参见Issues</a>
看不到渲染后的页面，只能看到类似如下信息：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;%- partial('_partial/head') %&gt;
&lt;%- partial('_partial/header', null, {cache: !config.relative_link}) %&gt;
&lt;%- body %&gt;
&lt;% if (theme.sidebar &amp;&amp; theme.sidebar !== 'bottom'){ %&gt; &lt;%- partial('_partial/sidebar', null,     {cache: !config.relative_link}) %&gt; &lt;% } %&gt;
&lt;%- partial('_partial/footer', null, {cache: !config.relative_link}) %&gt;
&lt;%- partial('_partial/mobile-nav', null, {cache: !config.relative_link}) %&gt; &lt;%- partial('_partial/after-footer') %&gt;

</code></pre>
</div>

<p><strong>解决方案：</strong></p>

<p>在博客所在目录下执行’npm install’用以安装插件。</p>

<p><strong>感谢<a href="http://zespia.tw/">@tommy351</a>提供的解决方案</strong></p>

<h2 id="section-5">更新至3.0.0版本后，文件渲染时卡死</h2>

<p><strong>问题描述：</strong></p>

<p><a href="https://github.com/hexojs/hexo/issues/1137">参见Issues</a>
表现为文件不多，但是渲染非常缓慢，超过半个小时。</p>

<p><strong>问题分析：</strong></p>

<p>问题出在<code class="highlighter-rouge">Highlight.js</code>在判断语言类型时，会因为<code class="highlighter-rouge">-</code>这个符号导致卡死。</p>

<p><strong>解决方案：</strong></p>

<p>在使用代码块时，明确使用类型，或者全部使用<code class="highlighter-rouge">plain</code>类型，如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
plain
something

</code></pre>
</div>

<h2 id="hexo-30deploy">升级至Hexo 3.0版本后，deploy报错</h2>

<p><strong>问题描述：</strong></p>

<p><a href="https://github.com/hexojs/hexo/issues/1013">参见Issues</a>
升级之后，本来可以deploy的设置出现报错，内容为：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
ERROR Deployer not found: github

</code></pre>
</div>

<p><strong>问题分析：</strong></p>

<p>Hexo3.0与以往版本最大的改变在于，更多的模块都从主程序中剥离了出来，其中就包括deploy的相关模块。</p>

<p><strong>解决方案：</strong></p>

<p>首先需要安装对应的deploy模块，目前Hexo支持以下服务器的一键部署：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
git
heroku
rsync
openshift

</code></pre>
</div>

<p>安装命令为：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
npm install hexo-deployer-git --save //将git替换为别的名字就可以安装对应模块

</code></pre>
</div>

<p>然后对<code class="highlighter-rouge">_config.yml</code>做如下设置：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
deploy:
  type: git   //非git请参考官方文档中的设置
  repo: &lt;repository url&gt;
  branch: [branch]
  message: [message]

</code></pre>
</div>

<h2 id="mac-oshexo">Mac OS安装Hexo出错</h2>

<p><strong>问题描述：</strong></p>

<p><a href="https://github.com/hexojs/hexo/issues/1326">参见Issues</a>
命令行返回ERROR：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="err">[Error:</span><span class="w"> </span><span class="err">Cannot</span><span class="w"> </span><span class="err">find</span><span class="w"> </span><span class="err">module</span><span class="w"> </span><span class="err">'./build/Release/DTraceProviderBindings']</span><span class="w"> </span><span class="err">code:</span><span class="w"> </span><span class="err">'MODULE_NOT_FOUND'</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="err">[Error:</span><span class="w"> </span><span class="err">Cannot</span><span class="w"> </span><span class="err">find</span><span class="w"> </span><span class="err">module</span><span class="w"> </span><span class="err">'./build/default/DTraceProviderBindings']</span><span class="w"> </span><span class="err">code:</span><span class="w"> </span><span class="err">'MODULE_NOT_FOUND'</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="err">[Error:</span><span class="w"> </span><span class="err">Cannot</span><span class="w"> </span><span class="err">find</span><span class="w"> </span><span class="err">module</span><span class="w"> </span><span class="err">'./build/Debug/DTraceProviderBindings']</span><span class="w"> </span><span class="err">code:</span><span class="w"> </span><span class="err">'MODULE_NOT_FOUND'</span><span class="w"> </span><span class="p">}</span><span class="w">

</span></code></pre>
</div>

<p><strong>解决方案：</strong></p>

<p>使用命令<code class="highlighter-rouge">npm install hexo --no-optional</code></p>

<hr />

<h1 id="section-6">常见问题</h1>

<h2 id="hexo-2">如何在不同电脑（系统）上使用Hexo</h2>

<p>使用<code class="highlighter-rouge">Git</code>来管理自己的<code class="highlighter-rouge">Blog</code>文件夹，需要注意一下几点。</p>

<ol>
  <li>
    <p>如果主题是通过git管理的，需要将主题文件夹下的<code class="highlighter-rouge">.git</code>文件夹删除或者使用git submodule的形式进行管理，才能同步Blog文件夹。</p>
  </li>
  <li>
    <p>Blog目录下自带的<code class="highlighter-rouge">.gitignore</code>文件，<code class="highlighter-rouge">node_modules</code>文件夹是不会同步的，所以同步之后需要自己再次进行<code class="highlighter-rouge">npm install</code>，但是注意，不要进行<code class="highlighter-rouge">hexo init</code>了，否则<code class="highlighter-rouge">_config.yml</code>会被覆盖。</p>
  </li>
</ol>

<p>然后看一下同步之后的目录结构：
<a href="https://github.com/Xuanwo/xuanwo.github.io/tree/blog">https://github.com/Xuanwo/xuanwo.github.io/tree/blog</a></p>

<h2 id="git-submodule">使用git submodule来管理主题</h2>

<p>Todo</p>

<h2 id="readmemdhtml">在主目录下添加<code class="highlighter-rouge">README.md</code>文件或者html文件</h2>

<h3 id="hexo30">Hexo3.0以下使用</h3>

<p><strong>感谢<a href="http://timnew.me/">@TimNew</a>提供的思路</strong></p>

<p>正如大家所知道的，在source文件夹下的所有md文件都会被hexo渲染成html文件，导致<code class="highlighter-rouge">README.md</code>文件不能好好的放在里面了，即使是添加了<code class="highlighter-rouge">layout: false</code>依然没有用。</p>

<p>不过现在有一个另外的好办法，那就是利用主题的source目录，也就是<code class="highlighter-rouge">themes/themes-name/source</code>。因为这个文件夹里面的所有文件都会被复制到网站的根目录中去，也就是说，如果在里面放上<code class="highlighter-rouge">README</code>，就可以正常的存在于网站的主目录了。</p>

<p>同样的，对于一些需要在网站下添加html文件的需求也可以这样来达成。比如百度或者谷歌在验证站长权限的时候，通常都会要求在主目录下添加一个html文件。同样的，只要把这个文件放在<code class="highlighter-rouge">themes/themes-name/source</code>就可以搞定了。</p>

<h3 id="hexo30-1">Hexo3.0以上支持</h3>

<p><strong>使用<code class="highlighter-rouge">_config.yml</code>下的<code class="highlighter-rouge">skip_render</code>参数。</strong></p>

<p><code class="highlighter-rouge">skip_render</code>使用了<a href="https://github.com/isaacs/minimatch"><code class="highlighter-rouge">minimatch</code></a>，开始匹配的位置是基于你的<code class="highlighter-rouge">source_dir</code>的，一般来说，是你的<code class="highlighter-rouge">source</code>文件夹下。下面我分别列举几种常见的情况进行说明：</p>

<p><em>请注意yml中的文件格式，输入单个数据请注意空格，输入数组请进行缩进</em></p>

<ol>
  <li>单个文件夹下全部文件：<code class="highlighter-rouge">skip_render: test/*</code></li>
  <li>单个文件夹下指定类型文件：<code class="highlighter-rouge">skip_render: test/*.md</code></li>
  <li>单个文件夹下全部文件以及子目录:<code class="highlighter-rouge">skip_render: test/**</code></li>
  <li>多个文件夹以及各种复杂情况：</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>
skip_render:
    - `test1/*.html`
    - `test2/**`

</code></pre>
</div>

<h2 id="hexo-3">Hexo版本回退</h2>

<p>有时候更新之后发现新版本的Hexo不能按照预期的方式工作，这时候就需要使用版本回退功能。
打开命令行，输入<code class="highlighter-rouge">npm install -g hexo@版本号</code>就可以回退到没有出现问题的版本上来。</p>

<p><em>这个命令适用于所有Node.js模块</em></p>

<blockquote>
  <p>少数情况下会出现Node.js版本问题，可以使用<code class="highlighter-rouge">nvm install 版本号</code>来安装报错信息中需要的版本。</p>
</blockquote>

<p><em>推荐使用nvm来管理Node.js版本</em></p>

<h2 id="section-7">如何为站点添加社会化评论</h2>

<h3 id="disque">使用Disque</h3>

<p>Hexo默认支持Disque，打开<code class="highlighter-rouge">_config.yml</code>，在<code class="highlighter-rouge">disqus_shortname:</code>后面输入自己的Disque账号。保存，重新渲染，清除缓存之后就能看到自己的评论窗口。</p>

<h3 id="duoshuo">使用Duoshuo</h3>

<p>部分主题添加了对多说的支持，只要输入Duoshuo账号，就可以看到效果了。如果主题不支持的话，就需要自己添加。需要对自己的主题结构有一定的了解，不是每一个主题都会有一样的文件，找不到同样的文件也正常，但是都会存在相同功能的区块，自己去定位即可。如果没把握的话，最后做好备份。</p>

<p>在<code class="highlighter-rouge">after_footer.ejs</code>模块中输入如下代码：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;
&lt;script type="text/javascript"&gt;
var duoshuoQuery = {short_name:"yourshortname"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	&lt;/script&gt;
&lt;!-- 多说公共JS代码 end --&gt;

</code></pre>
</div>

<p>在<code class="highlighter-rouge">article.ejs</code>模块中输入如下代码：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;% if (page.comments){ %&gt;
        &lt;div class="ds-thread" data-thread-key="&lt;%- page.path %&gt;" data-title=&lt;%- page.title %&gt; data-url=&lt;%- page.permalink %&gt;&gt;
&lt;% } %&gt;

</code></pre>
</div>

<h2 id="deploy-2">如何避免在Deploy时输入密码</h2>

<h3 id="github-1">使用Github客户端</h3>

<p>安装好Github客户端之后，使用Github客户端内置的Git Shell进行hexo的部署操作。</p>

<h3 id="ssh-key">自行生成SSH key</h3>

<p>使用Github客户端可以免去输入密码操作的原因就是客户端在本地生成了一个SSH key并且添加到了Github网站中。不喜欢使用Github客户端的童鞋可以参考下面的流程自行生成SSH key。
<a href="http://xuanwo.org/2015/02/07/generate-a-ssh-key/">使用Github SSH Key以免去Hexo部署时输入密码</a></p>

<h2 id="git-1">多git部署</h2>

<p>参考<a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a>插件README进行配置：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
deploy:
  type: git
  message: [message]
  repo:
    github: &lt;repository url&gt;,[branch]
    gitcafe: &lt;repository url&gt;,[branch]

</code></pre>
</div>

<p>请注意每一个冒号后面的空格，如果丢失会导致yml文件读取错误。</p>

<h2 id="https">开启全站https</h2>

<p>Todo</p>

<h1 id="section-8">贡献者</h1>
<ul>
  <li><a href="http://xuanwo.org/">@Xuanwo</a></li>
  <li><a href="http://timnew.me/">@TimNew</a></li>
  <li><a href="http://zespia.tw/">@tommy351</a></li>
</ul>

<h1 id="section-9">更新日志</h1>
<ul>
  <li>2014年08月14日 完成大体框架，内容慢慢填充</li>
  <li>2014年08月23日 补充404问题，以及如何在不同电脑（系统）上使用Hexo</li>
  <li>2014年09月06日 新增自有域名二级目录无法访问，在主目录下添加md文件</li>
  <li>2014年09月09日 新增Hexo版本回退，Hexo所有命令报错。</li>
  <li>2014年09月23日 新增Partial没有转义</li>
  <li>2014年09月24日 新增添加社会化评论</li>
  <li>2015年02月06日 新增本地添加SSH key，修复部分笔误</li>
  <li>2015年02月07日 SSH key生成独立成篇</li>
  <li>2015年04月01日 添加了部分Hexo3.0带来的问题，新增了<code class="highlighter-rouge">skip_render</code>参数设置</li>
  <li>2015年04月03日 添加了Hexo3.0中deploy设置</li>
  <li>2015年08月09日 添加了多git部署，Mac OS安装出错，更新了<code class="highlighter-rouge">skip_render</code>参数设置以及部分文本说明</li>
  <li>2015年09月05日 添加了开启全站https以及主题管理，修复了代码显示BUG，删除了部分口水话</li>
</ul>

  </div>

  
    
  

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://xuanwo.org/2014/08/14/hexo-usual-problem';
      this.page.identifier = 'https://xuanwo.org/2014/08/14/hexo-usual-problem';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://only0god.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Xuanwo&#39;s Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Xuanwo&#39;s Blog
            
            </li>
            
            <li><a href="mailto:xuanwo.cn@gmail.com">xuanwo.cn@gmail.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/Xuanwo"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">Xuanwo</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/onlyxuanwo"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">onlyxuanwo</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Long way to go
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
