title: 数据库系统概论复习
date: 2015-6-12 14:33:29
tags: [Database]
categories: Learn
toc: true
---
# 第一章 绪论
## 数据库系统概述
数据（Data）： 描述事物的符号记录称为数据。
记录： 计算机中表示和存储数据的一种格式或一种方法。
数据库（DataBase，简称DB）： 数据库是长期存储在计算机内、有组织的、可共享的大量数据的集合。
特点：
- 数据按一定的数据模型组织、描述和存储
- 可为各种用户共享
- 冗余度较小
- 数据独立性较高
- 易扩展

<!-- more -->

数据库管理系统（DataBase Management System，DBMS）：位于用户与操作系统之间的一层数据管理软件，它为用户或应用程序提供访问DB的方法，包括DB的建立、查询、更新及各种数据控制。
主要功能如下：
- 数据定义功能
- 数据组织、存储和管理
- 数据操纵功能
- 数据库的事务管理和运行管理
- 数据库的建立和维护功能
- 其他功能

数据库系统（DataBase System， DBS）：DBS是实现有组织地、动态地存储大量关联数据、方便多用户访问的计算机硬件、软件和数据资源组成的系统，即它是采用数据库技术的计算机系统。
组成：
计算机硬件、数据库、数据库管理系统、应用软件、数据库管理员

数据库技术：是研究数据库的结构、存储、设计、管理和使用的一门软件学科。

## 数据模型
模型： 现实世界特征的模拟和抽象
数据模型定义：能表示实体类型及实体间联系的模型
要求：
- 能比较真实的模拟现实世界
- 容易为人所理解
- 便于在计算机上实现

### 概念数据模型
按用户观点对数据建模，是对现实世界的第一层抽象，如ER图。主要用于数据库设计，是数据模型建立的基础。

实体：客观存在并可相互区别的事物。
属性：实体所具有的某一特性称为属性。用属性来刻画实体。
码：唯一标识实体的属性集，如学号。
域：属性的取值范围称为该属性的域。
实体型：具有相同性质的实体必然具有共同的特征和性质。
实体集：同型实体的集合。
联系：可分为一对一，一对多，多对多。

### 逻辑数据模型
直接面向数据库的逻辑结构，是对现实世界的第二层抽象。可分为：网状、层次、关系、面对对象等；也可分为模糊、时态、空间、时空、概率、粗糙、分形等。组成包括：数据结构、数据操作、数据的约束条件。

**层次数据模型：**
层次数据模型对应数据结构中的树形结构：
- 有且只有一个称为根的结点
- 当结点数大于1时，除根节点外的结点可以分为M个互相不相交的有限集，其中每一个集合又是一棵数。

数据操纵：查询、插入、删除和修改
数据约束条件：
- 进行插入操作时，如果没有相应的双亲结点值，不能插入子女结点值。
- 进行删除操作时，如果删除双亲结点值，则相应的子女结点值也被删除。
- 进行修改操作时，应修改所有相应记录，以保证数据的一致性。

**网状数据模型：**
针对数据结构中的图

**面向对象的数据模型：**
最关键的两个概念：
对象：现实世界中实体的模型化
类：对象类型和对这个对象模型进行的操作方法

![四种数据模型的比较](http://xuanwo.qiniudn.com/learn/four-data-modal.png)

## 数据库系统结构
数据库系统的三级模式结构
- 外模式/模式映像
- 内模式/模式映像

## 数据库系统的组成

### 硬件平台及数据库

### 软件

### 人员
1. 数据库管理员
2. 系统分析员和数据库设计人员
3. 应用程序员
4. 用户

# 关系型数据库理论
![关系数据库理论概述](http://xuanwo.qiniudn.com/learn/relate-database-theory.png)

## 关系模型概述
![关系模型概述](http://xuanwo.qiniudn.com/learn/relate-database-modal.png)

## 关系数据结构
域：是一组具有相同数据类型的值的集合
域的笛卡儿积：给定一组域D1，D2，...，Dn，其笛卡尔积为：
![笛卡儿积](http://xuanwo.qiniudn.com/learn/cartesian-product.png)

### 关系
关系：D1×D2×…×Dn的子集叫做在域D1，D2，…，Dn上的关系，记做：R(D1，D2，…，Dn)。

>
关系是笛卡尔积的有一定意义、有限的子集。
关系也是一个二维表，表的每一行对应一个元组，表的每一列对应一个域。
对每列起一个唯一的名字，称为属性。
n元关系有n个属性。
当n=1时，称该关系为单元关系；
当n=2时，称该关系为二元关系。
若关系中的某一属性组的值能够唯一地标识一个元组，则称该属性组为候选码。
若一个关系有多个候选码，则选定其中一个作为主码。
候选码的诸属性称为主属性。不包含在任何候选码中的属性称为非主属性或非码属性。

关系的性质：
- 同质的列
- 不同属性应该有不同的名称
- 属性是无序的
- 元组不能重复
- 元组无序
- 分量是原子（即每一个分量都必须是不可分的数据项）

### 关系模式
在数据库中要区分型和值，型是指关系模式，值是指关系。

关系：
一张二维表格，其中每一行为一元组，每一列为一属性。

关系模式：
关系的描述称为关系模式。它可以形式化的表示为：
R(U, D, dom, F)
其中：
R：关系名
U：组成该关系的属性集合
D：属性来自的域
dom：属性向域的映象集合
F：属性间数据依赖关系集合

关系模式与关系的关系：
- 关系模式是静态的，稳定的
- 关系是动态地，随时间不断变化的
- 关系是关系模式在某一时刻的状态和内容

## 关系的完整性
关系模型的完整性规则是对关系的某种约束条件。
### 关系的三类完整性约束
- 实体完整性
- 参照完整性
- 用户定义的完整性

### 实体完整性
若属性A是基本关系R的主属性，则属性A不能取空值。

### 参照完整性
> 外码
设F市基本关系R的一个或一组属性，但不是关系R的码。Ks是基本关系S的主码。如果F与Ks相对应，则称D是R的外码。
并称基本关系R为参照关系，基本关系S为被参照关系或目标关系。
*关系R和S不一定是不同的关系。*

若属性（或属性组）F是基本关系R的外码，它与基本关系S的主码Ks相对应（基本关系R和S不一定是不同的关系），则对于R中每个元组在F上的值必须为：
- 或者取空值（F的每个属性值均为空值）
- 或者等于S中某个元组的主码值

### 用户定义的完整性
针对某一具体关系数据库的约束条件

## 关系代数
关系代数是一种抽象的查询语言，它用作对关系的运算来表达查询。
![关系代数运算符](http://xuanwo.qiniudn.com/learn/relate-cal.png)

### 传统的集合运算
- 并
- 差
- 交
- 笛卡儿积

### 专门的关系演算
**选择**
从关系R中选取使得逻辑表达式F为真的元组，这是从行的角度进行的运算。
**投影**
从关系R中选取若干属性列组成新的关系，这是从列的角度进行的运算。
*需要消除重复行，因此有可能导致某些元组被取消。*
**连接**
从两个关系的笛卡尔积中选取属性间满足一定条件的元组
- 等值连接：要求选取的A，B属性组的值相等
- 自然连接：特殊的等值连接，要求把重复属性列去掉

如果把舍弃的元组也保存在结果关系中，而在其他的属性上填空值（NULL），那么这种连接叫做外连接。
如果只保留左边关系中要舍弃的部分，叫做左外连接；
如果只保留右边关系中要舍弃的部分，叫做右外连接。

**除**
![关系运算-除](http://xuanwo.qiniudn.com/learn/divide.png)

# SQL数据语言
## SQL概述